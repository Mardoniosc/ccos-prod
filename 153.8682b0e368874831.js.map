{"version":3,"file":"153.8682b0e368874831.js","mappings":"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","names":["Permissao","BaseResourceModel","constructor","id","descricao","permissaoPai","super","this","i0","PermissaoFormComponent","BaseResourceFormComponent","permissaoService","injector","ngOnInit","carregaPermissoes","buildResourceForm","resourceForm","formBuilder","group","Validators","getAll","filtro","pagina","direcaoOrdenacao","tamanho","ordenarPor","subscribe","permissoes","content","patchValue","resource","err","toastr","error","timeOut","progressBar","closeButton","createPageTitle","editionPageTitle","selectors","ctx","PermissaoListComponent","BaseResourceListComponent","routes","path","component","PermissaoModule","CommonModule","RouterModule","SharedModule","NotFoundDataComponent","PageHeaderComponent","EventEmitter","filtrar","termo","pesquisar","emit","injecto","resourceService","route","get","ActivatedRoute","router","Router","FormBuilder","setCurrentAction","loadResource","ngAfterContentChecked","setPageTitle","submitForm","invalid","value","currentAction","update","navigate","snapshot","parent","url","insert","idResource","Number","getById","pageTitle","RulesService","temPermissao","rule","token","localStorage","getItem","ELocalStorage","ROLES","AuthUtils","Object","find","permissao","factory","_fuseConfirmationService","FuseConfirmationService","_matPaginatorIntl","MatPaginatorIntl","_ruleService","carregaInformacoesResource","itemsPerPageLabel","setPageSizeOptions","setPageSizeOptionsInput","pageSizeOptions","split","map","str","data","resources","length","totalElements","pageSize","size","excluir","open","title","message","icon","show","name","color","actions","confirm","label","cancel","dismissible","afterClosed","result","delete","res","paginacao","event","pageIndex","filtrarResource","validaPermissao"],"sourceRoot":"webpack:///","sources":["./src/app/modules/permissao/permissao.mode.ts","./src/app/modules/permissao/containers/permissao-form/permissao-form.component.html","./src/app/modules/permissao/containers/permissao-form/permissao-form.component.ts","./src/app/modules/permissao/containers/permissao-list/permissao-list.component.html","./src/app/modules/permissao/containers/permissao-list/permissao-list.component.ts","./src/app/modules/permissao/permissao.module.ts","./src/app/shared/components/not-found-data/not-found-data.component.ts","./src/app/shared/components/not-found-data/not-found-data.component.html","./src/app/shared/components/page-header/page-header.component.html","./src/app/shared/components/page-header/page-header.component.ts","./src/app/shared/containers/base-resource-form/BaseResourceFormComponent.ts","./src/app/shared/services/rules.service.ts","./src/app/shared/containers/base-resource-list/base-resource-list.component.ts","./src/app/shared/models/base-resource.model.ts"],"sourcesContent":["import { BaseResourceModel } from 'app/shared/models/base-resource.model';\r\n\r\nexport class Permissao extends BaseResourceModel {\r\n  constructor(\r\n    public id?: number,\r\n    public descricao?: string,\r\n    public permissaoPai?: Permissao\r\n  ) {\r\n    super();\r\n  }\r\n}\r\n\r\nexport class PermissaoResponse {\r\n  constructor(\r\n    public content?: Permissao[],\r\n    public totalElements?: number,\r\n    public size?: number,\r\n    public numberOfElements?: number\r\n  ) {}\r\n}\r\n","<div class=\"flex flex-col flex-auto min-w-0\">\r\n  <div class=\"flex-auto p-6 sm:p-10\">\r\n    <div class=\"bg-card rounded-2xl shadow overflow-hidden\">\r\n      <form [formGroup]=\"resourceForm\" class=\"m-4\">\r\n        <!-- Section -->\r\n        <div class=\"w-full\">\r\n          <div class=\"text-xl\">{{ pageTitle }}</div>\r\n        </div>\r\n        <div class=\"grid sm:grid-cols-4 gap-6 w-full mt-8\">\r\n          <!-- DESCRIÇÃO -->\r\n          <div class=\"sm:col-span-4\">\r\n            <mat-form-field class=\"fuse-mat-no-subscript w-full\">\r\n              <mat-label>Descrição</mat-label>\r\n              <mat-icon class=\"icon-size-5\" [svgIcon]=\"'heroicons_outline:view-grid'\" matPrefix></mat-icon>\r\n              <input class=\"uppercase\" id=\"descricao_id\" [formControlName]=\"'descricao'\" matInput\r\n                placeholder=\"informa o descricao da perfil\" />\r\n            </mat-form-field>\r\n            <app-form-field-error [form-control]=\"resourceForm.get('descricao')\"></app-form-field-error>\r\n          </div>\r\n\r\n          <div class=\"sm:col-span-4\">\r\n            <mat-form-field class=\"fuse-mat-no-subscript w-full\">\r\n              <mat-label>Permissão Pai</mat-label>\r\n              <mat-select id=\"permissaoPai\" formControlName=\"permissaoPai\">\r\n                <ng-container *ngFor=\"let item of permissoes\">\r\n                  <mat-option *ngIf=\"!item.permissaoPai\" [value]=\"item.id\">{{ item.descricao }}</mat-option>\r\n                </ng-container>\r\n              </mat-select>\r\n              <mat-icon class=\"icon-size-5\" matPrefix [svgIcon]=\"'heroicons_outline:document-text'\"></mat-icon>\r\n            </mat-form-field>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Divider -->\r\n        <div class=\"mt-11 mb-10 border-t\"></div>\r\n\r\n        <!-- Actions -->\r\n        <div class=\"flex items-center justify-end\">\r\n          <a routerLink=\"/permissao\" routerLinkActive=\"router-link-active\">\r\n            <button class=\"fuse-mat-button-rounded mat-flat-button mat-button-base\" mat-stroked-button type=\"button\">\r\n              Cancelar\r\n            </button>\r\n          </a>\r\n\r\n          <button class=\"ml-4 fuse-mat-button-rounded mat-flat-button mat-button-base mat-primary\" mat-flat-button\r\n            type=\"button\" [disabled]=\"resourceForm.invalid\" (click)=\"submitForm()\">\r\n            Salvar\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, Injector, OnInit } from '@angular/core';\r\nimport { Validators } from '@angular/forms';\r\nimport { BaseResourceFormComponent } from 'app/shared/containers/base-resource-form';\r\nimport { IFilter } from 'app/shared/models/interface.model';\r\nimport { PermissaoService } from '../../api/permissao.service';\r\nimport { Permissao, PermissaoResponse } from '../../permissao.mode';\r\nimport toastr from 'toastr';\r\n\r\n@Component({\r\n  selector: 'app-permissao-form',\r\n  templateUrl: './permissao-form.component.html',\r\n  styleUrls: ['./permissao-form.component.scss'],\r\n})\r\nexport class PermissaoFormComponent\r\n  extends BaseResourceFormComponent<Permissao, PermissaoResponse>\r\n  implements OnInit\r\n{\r\n  permissoes: Permissao[] = [];\r\n\r\n  constructor(\r\n    protected permissaoService: PermissaoService,\r\n    protected injector: Injector\r\n  ) {\r\n    super(injector, new Permissao(), permissaoService);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    super.ngOnInit();\r\n    this.carregaPermissoes();\r\n  }\r\n\r\n  protected buildResourceForm() {\r\n    this.resourceForm = this.formBuilder.group({\r\n      descricao: [null, [Validators.required, Validators.minLength(2)]],\r\n      permissaoPai: [],\r\n    });\r\n  }\r\n\r\n  protected carregaPermissoes() {\r\n    const filtro: IFilter = {\r\n      filtro: '',\r\n      pagina: 0,\r\n      direcaoOrdenacao: 'DESC',\r\n      tamanho: 100,\r\n      ordenarPor: 'id',\r\n    };\r\n\r\n    this.permissaoService.getAll(filtro).subscribe(\r\n      (permissoes) => {\r\n        this.permissoes = permissoes.content;\r\n        this.resourceForm.patchValue({\r\n          permissaoPai: this.resource?.permissaoPai?.id,\r\n        });\r\n      },\r\n      (err) =>\r\n        toastr.error(\r\n          'Não foi possível carregar as permissões',\r\n          err.error.error,\r\n          {\r\n            timeOut: 10000,\r\n            progressBar: true,\r\n            closeButton: true,\r\n          }\r\n        )\r\n    );\r\n  }\r\n\r\n  protected createPageTitle(): string {\r\n    return 'Cadastro de Novo Permissao';\r\n  }\r\n\r\n  protected editionPageTitle(): string {\r\n    const permissaoNome = this.resource.descricao || '';\r\n    return 'Editando permissão: ' + permissaoNome;\r\n  }\r\n}\r\n","<div class=\"absolute inset-0 flex flex-col min-w-0 overflow-hidden bg-card dark:bg-transparent\">\r\n  <div class=\"flex flex-col flex-auto min-w-0 overflow-y-auto\" cdkScrollable>\r\n\r\n    <app-page-header [show-button]=\"validaPermissao('MANTER_PERMISSAO')\" page-title=\"Permissões\" placeholder-text=\"Buscar por descricao\"\r\n      (pesquisar)=\"filtrarResource($event)\">\r\n    </app-page-header>\r\n\r\n    <!-- Page body -->\r\n    <div class=\"flex flex-col flex-auto min-w-0 overflow-y-auto\" cdkScrollable *ngIf=\"length > 0\">\r\n      <mat-table [dataSource]=\"resources\">\r\n        <!-- User name Definition -->\r\n        <ng-container matColumnDef=\"id\">\r\n          <mat-header-cell *matHeaderCellDef> Código </mat-header-cell>\r\n          <mat-cell *matCellDef=\"let row\"> {{ row.id }} </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Age Definition -->\r\n        <ng-container matColumnDef=\"descricao\" class=\"cursor-pointer\">\r\n          <mat-header-cell *matHeaderCellDef> Descrição </mat-header-cell>\r\n          <mat-cell *matCellDef=\"let row\">\r\n            {{ row.descricao | uppercase }}\r\n          </mat-cell>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"permissaoPai\" class=\"cursor-pointer\">\r\n          <mat-header-cell *matHeaderCellDef> Permissão Pai </mat-header-cell>\r\n          <mat-cell *matCellDef=\"let row\">\r\n            {{ row.permissaoPai ? row.permissaoPai.descricao : '-' }}\r\n          </mat-cell>\r\n        </ng-container>\r\n\r\n        <ng-container matColumnDef=\"acoes\">\r\n          <mat-header-cell *matHeaderCellDef> Ações </mat-header-cell>\r\n          <mat-cell *matCellDef=\"let row\">\r\n            <span *ngIf=\"!validaPermissao('MANTER_PERMISSAO')\">-</span>\r\n            <span class=\"mr-2 cursor-pointer\" [routerLink]=\"[row.id, 'editar']\" *ngIf=\"validaPermissao('MANTER_PERMISSAO')\">\r\n              <mat-icon class=\"text-accent dark:text-accent-300\" svgIcon=\"heroicons_outline:pencil-alt\"></mat-icon>\r\n            </span>\r\n            <span (click)=\"excluir(row)\" class=\"cursor-pointer\" *ngIf=\"validaPermissao('MANTER_PERMISSAO')\">\r\n              <mat-icon class=\"text-warn-600\" svgIcon=\"heroicons_outline:trash\"></mat-icon>\r\n            </span>\r\n          </mat-cell>\r\n        </ng-container>\r\n\r\n        <!-- Header and Row Declarations -->\r\n        <mat-header-row *matHeaderRowDef=\"['id', 'descricao', 'permissaoPai', 'acoes']\"></mat-header-row>\r\n        <mat-row *matRowDef=\"let row; columns: ['id', 'descricao', 'permissaoPai', 'acoes']\"></mat-row>\r\n      </mat-table>\r\n    </div>\r\n\r\n    <!-- NENHUM DADO ENCONTRADO -->\r\n    <app-not-found-data class=\"h-full\" mensagem=\"Nenhum registro de perfils encontrado!\" *ngIf=\"length <= 0\">\r\n    </app-not-found-data>\r\n  </div>\r\n  <div class=\"flex flex-0 flex-col\" *ngIf=\"length > 0\">\r\n    <mat-paginator class=\"flex justify-end border-t\" [length]=\"length\" [pageSize]=\"pageSize\"\r\n      [pageSizeOptions]=\"pageSizeOptions\" (page)=\"paginacao($event)\" aria-label=\"Select page\">\r\n    </mat-paginator>\r\n  </div>\r\n</div>\r\n","import { Component, Injector, OnInit } from '@angular/core';\r\nimport { BaseResourceListComponent } from 'app/shared/containers/base-resource-list/base-resource-list.component';\r\nimport { PermissaoService } from '../../api/permissao.service';\r\nimport { Permissao, PermissaoResponse } from '../../permissao.mode';\r\n\r\n@Component({\r\n  selector: 'app-permissao-list',\r\n  templateUrl: './permissao-list.component.html',\r\n  styleUrls: ['./permissao-list.component.scss'],\r\n})\r\nexport class PermissaoListComponent extends BaseResourceListComponent<\r\n  Permissao,\r\n  PermissaoResponse\r\n> {\r\n  constructor(\r\n    protected injector: Injector,\r\n    protected permissaoService: PermissaoService\r\n  ) {\r\n    super(injector, permissaoService);\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { Route, RouterModule } from '@angular/router';\r\nimport { PermissaoFormComponent } from './containers/permissao-form/permissao-form.component';\r\nimport { PermissaoListComponent } from './containers/permissao-list/permissao-list.component';\r\nimport { SharedModule } from 'app/shared/shared.module';\r\n\r\nconst routes: Route[] = [\r\n  { path: '', component: PermissaoListComponent },\r\n  { path: 'novo', component: PermissaoFormComponent },\r\n  { path: ':id/editar', component: PermissaoFormComponent },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [PermissaoFormComponent, PermissaoListComponent],\r\n  imports: [CommonModule, RouterModule.forChild(routes), SharedModule],\r\n})\r\nexport class PermissaoModule {}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-not-found-data',\r\n  templateUrl: './not-found-data.component.html',\r\n  styleUrls: ['./not-found-data.component.scss'],\r\n})\r\nexport class NotFoundDataComponent {\r\n  @Input('mensagem') mensagem: string;\r\n}\r\n","<div class=\"flex flex-col w-full h-full items-center justify-center border-t-2 border-gray-200\">\r\n  <img src=\"assets/icons/searching.svg\" class=\"w-64 h-64\" alt=\"\">\r\n  <p class=\"mt-2 text-lg md:text-2xl font-medium tracking-tight text-center text-secondary\">{{ mensagem }}</p>\r\n</div>\r\n","<div\r\n  class=\"relative flex flex-col flx-col-0 sm:flex-row flex-0 sm:items-center sm:justify-between py-8 px-6 md:px-8 border-b\">\r\n  <div class=\"text-4xl font-extrabold tracking-tight\">{{ pageTitle }}</div>\r\n\r\n  <div class=\"flex flex-col sm:flex-row items-start shrink-0 sm:items-center mt-6 sm:mt-0 sm:ml-4\">\r\n    <mat-form-field class=\"fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded min-w-64\" *ngIf=\"showSearch\">\r\n      <mat-icon class=\"icon-size-5\" matPrefix [svgIcon]=\"'heroicons_solid:search'\"></mat-icon>\r\n      <input matInput id=\"searchPerfil\" #temoPesquisa (keyup)=\"filtrar(temoPesquisa.value)\" [autocomplete]=\"'off'\"\r\n        [placeholder]=\"placeholder\" />\r\n    </mat-form-field>\r\n    <!-- Add product button -->\r\n    <a [routerLink]=\"['novo']\" routerLinkActive=\"router-link-active\" *ngIf=\"showButton\"\r\n      class=\"mat-focus-indicator mt-2 fuse-mat-button-rounded mat-flat-button mat-button-base mat-accent m-1 text-1xl\"\r\n      mat-flat-button>\r\n      <span class=\"p-3 flex flex-row items-center\">\r\n        <mat-icon class=\"icon-size-5\" [svgIcon]=\"'heroicons_outline:plus'\"></mat-icon>\r\n        Cadastrar\r\n      </span>\r\n    </a>\r\n  </div>\r\n</div>\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-page-header',\r\n  templateUrl: './page-header.component.html',\r\n  styleUrls: ['./page-header.component.scss'],\r\n})\r\nexport class PageHeaderComponent implements OnInit {\r\n  @Input('page-title') pageTitle: string = '';\r\n  @Input('show-button') showButton: boolean = true;\r\n  @Input('show-search') showSearch: boolean = true;\r\n  @Input('placeholder-text') placeholder: string = '';\r\n\r\n  @Output() pesquisar = new EventEmitter();\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {}\r\n\r\n  filtrar(termo: string): void {\r\n    this.pesquisar.emit(termo);\r\n  }\r\n}\r\n","import {\r\n  AfterContentChecked,\r\n  Component,\r\n  Inject,\r\n  Injector,\r\n  OnInit,\r\n} from '@angular/core';\r\nimport { FormBuilder, UntypedFormGroup } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\nimport toastr from 'toastr';\r\n\r\nimport { BaseResourceModel } from 'app/shared/models/base-resource.model';\r\nimport { BaseResourceService } from 'app/shared/services/base-resource.service';\r\n\r\n@Component({\r\n  template: '',\r\n})\r\nexport abstract class BaseResourceFormComponent<T extends BaseResourceModel, R>\r\n  implements OnInit, AfterContentChecked\r\n{\r\n  currentAction: string;\r\n  resourceForm: UntypedFormGroup;\r\n  pageTitle: string;\r\n\r\n  protected route: ActivatedRoute;\r\n  protected router: Router;\r\n  protected formBuilder: FormBuilder;\r\n\r\n  constructor(\r\n    protected injecto: Injector,\r\n    @Inject('resource') protected resource: T,\r\n    protected resourceService: BaseResourceService<T, R>\r\n  ) {\r\n    this.route = this.injecto.get(ActivatedRoute);\r\n    this.router = this.injecto.get(Router);\r\n    this.formBuilder = this.injecto.get(FormBuilder);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.setCurrentAction();\r\n    this.buildResourceForm();\r\n    this.loadResource();\r\n  }\r\n\r\n  ngAfterContentChecked(): void {\r\n    this.setPageTitle();\r\n  }\r\n\r\n  submitForm() {\r\n    if (this.resourceForm.invalid) {\r\n      return;\r\n    }\r\n\r\n    const resource: T = this.resourceForm.value;\r\n    if (this.currentAction === 'novo') {\r\n      this.resourceService.insert(resource).subscribe(\r\n        () => {\r\n          toastr.success('Dado cadastrado com sucesso!', 'Sucesso', {\r\n            timeOut: 10000,\r\n            progressBar: true,\r\n            closeButton: true,\r\n          });\r\n          const baseComponentPath: string =\r\n            this.route.snapshot.parent.url[0].path;\r\n\r\n          this.router.navigate([baseComponentPath]);\r\n        },\r\n        (error) => {\r\n          toastr.error(\r\n            'Não foi possível carregar os dados',\r\n            error.error.error,\r\n            {\r\n              timeOut: 10000,\r\n              progressBar: true,\r\n              closeButton: true,\r\n            }\r\n          );\r\n        }\r\n      );\r\n      return;\r\n    }\r\n\r\n    resource.id = this.resource.id;\r\n    this.resourceService.update(resource).subscribe(\r\n      () => {\r\n        toastr.success('Dado atualizado com sucesso!', 'Sucesso', {\r\n          timeOut: 10000,\r\n          progressBar: true,\r\n          closeButton: true,\r\n        });\r\n        const baseComponentPath: string =\r\n          this.route.snapshot.parent.url[0].path;\r\n\r\n        this.router.navigate([baseComponentPath]);\r\n      },\r\n      (error) => {\r\n        toastr.error('Não foi possível atualizar o dado', error.error.error, {\r\n          timeOut: 10000,\r\n          progressBar: true,\r\n          closeButton: true,\r\n        });\r\n      }\r\n    );\r\n  }\r\n\r\n  // PRIVATE METHODS\r\n  protected setCurrentAction() {\r\n    if (this.route.snapshot.url[0]?.path === 'novo') {\r\n      this.currentAction = 'novo';\r\n    } else {\r\n      this.currentAction = 'editar';\r\n    }\r\n  }\r\n\r\n  protected loadResource() {\r\n    if (this.currentAction === 'editar') {\r\n      const idResource = Number(this.route.snapshot.url[0]?.path);\r\n      this.resourceService.getById(idResource).subscribe(\r\n        (resource) => {\r\n          this.resource = resource;\r\n          this.resourceForm.patchValue(this.resource);\r\n        },\r\n        (error) => {\r\n          toastr.error(\r\n            'Não foi possível carregar os dados',\r\n            error.error.error,\r\n            {\r\n              timeOut: 10000,\r\n              progressBar: true,\r\n              closeButton: true,\r\n            }\r\n          );\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  protected setPageTitle() {\r\n    if (this.currentAction === 'novo') {\r\n      this.pageTitle = this.createPageTitle();\r\n    } else {\r\n      this.pageTitle = this.editionPageTitle();\r\n    }\r\n  }\r\n\r\n  protected createPageTitle(): string {\r\n    return 'Novo';\r\n  }\r\n\r\n  protected editionPageTitle(): string {\r\n    return 'Edição';\r\n  }\r\n\r\n  protected abstract buildResourceForm(): void;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AuthUtils } from 'app/core/auth/auth.utils';\r\nimport { ELocalStorage } from '../models/localstorage.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class RulesService {\r\n  constructor() {}\r\n\r\n  temPermissao(rule: string): boolean {\r\n    const token = localStorage.getItem(ELocalStorage.TOKEN);\r\n    if (!token) {\r\n      return false;\r\n    }\r\n\r\n    const { ROLES } = AuthUtils.decodeToken(token);\r\n\r\n    if (Object(ROLES).find((permissao) => permissao == rule)) {\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n}\r\n","import { Component, Injector, OnInit } from '@angular/core';\r\nimport { MatPaginatorIntl, PageEvent } from '@angular/material/paginator';\r\nimport { FuseConfirmationService } from '@fuse/services/confirmation';\r\nimport { BaseResourceModel } from 'app/shared/models/base-resource.model';\r\nimport { IFilter } from 'app/shared/models/interface.model';\r\nimport { BaseResourceService } from 'app/shared/services/base-resource.service';\r\nimport { RulesService } from 'app/shared/services/rules.service';\r\nimport toastr from 'toastr';\r\n\r\n@Component({\r\n  template: '',\r\n})\r\nexport abstract class BaseResourceListComponent<T extends BaseResourceModel, R>\r\n  implements OnInit\r\n{\r\n  resources: T[] = [];\r\n\r\n  // MatPaginator Inputs\r\n  length = 0;\r\n  pageSize = 10;\r\n  pageSizeOptions: number[] = [5, 10, 25, 100];\r\n\r\n  // MatPaginator Output\r\n  pageEvent: PageEvent;\r\n  protected _fuseConfirmationService: FuseConfirmationService;\r\n  protected _matPaginatorIntl: MatPaginatorIntl;\r\n  protected _ruleService: RulesService;\r\n\r\n  constructor(\r\n    protected injecto: Injector,\r\n    protected resourceService: BaseResourceService<T, R>\r\n  ) {\r\n    this._fuseConfirmationService = this.injecto.get(FuseConfirmationService);\r\n    this._matPaginatorIntl = this.injecto.get(MatPaginatorIntl);\r\n    this._ruleService = this.injecto.get(RulesService);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.carregaInformacoesResource();\r\n    this._matPaginatorIntl.itemsPerPageLabel = 'Itens por página';\r\n  }\r\n\r\n  setPageSizeOptions(setPageSizeOptionsInput: string) {\r\n    if (setPageSizeOptionsInput) {\r\n      this.pageSizeOptions = setPageSizeOptionsInput\r\n        .split(',')\r\n        .map((str) => +str);\r\n    }\r\n  }\r\n\r\n  carregaInformacoesResource(): void {\r\n    const filtro: IFilter = {\r\n      filtro: '',\r\n      pagina: 0,\r\n      direcaoOrdenacao: 'DESC',\r\n      tamanho: 10,\r\n      ordenarPor: 'id',\r\n    };\r\n    this.resourceService.getAll(filtro).subscribe((data) => {\r\n      this.resources = data['content'];\r\n      this.length = data['totalElements'];\r\n      this.pageSize = data['size'];\r\n    });\r\n  }\r\n\r\n  excluir(resource: T): void {\r\n    const dialogRef = this._fuseConfirmationService.open({\r\n      title: `Deseja realmente excluir o item: ${resource.id}?`,\r\n      message: '',\r\n      icon: {\r\n        show: true,\r\n        name: 'heroicons_outline:exclamation',\r\n        color: 'warn',\r\n      },\r\n      actions: {\r\n        confirm: {\r\n          show: true,\r\n          label: 'Confirmar',\r\n          color: 'warn',\r\n        },\r\n        cancel: {\r\n          show: true,\r\n          label: 'Cancelar',\r\n        },\r\n      },\r\n      dismissible: false,\r\n    });\r\n\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if (result === 'confirmed') {\r\n        this.resourceService.delete(resource.id).subscribe(\r\n          (res) => {\r\n            toastr.success(`Item excluído com sucesso!`, '', {\r\n              timeOut: 10000,\r\n              progressBar: true,\r\n              closeButton: true,\r\n            });\r\n            this.carregaInformacoesResource();\r\n          },\r\n          (error) => {\r\n            toastr.error(\r\n              'Não foi possível excluir o perfil',\r\n              error.error.error,\r\n              {\r\n                timeOut: 10000,\r\n                progressBar: true,\r\n                closeButton: true,\r\n              }\r\n            );\r\n          }\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  paginacao(event: Event): void {\r\n    this.pageSize = event['pageSize'];\r\n    const filtro: IFilter = {\r\n      filtro: '',\r\n      pagina: event['pageIndex'],\r\n      direcaoOrdenacao: 'DESC',\r\n      tamanho: this.pageSize,\r\n      ordenarPor: 'id',\r\n    };\r\n\r\n    this.resourceService.getAll(filtro).subscribe((data) => {\r\n      this.resources = data['content'];\r\n      this.length = data['totalElements'];\r\n      this.pageSize = data['size'];\r\n    });\r\n  }\r\n\r\n  filtrarResource(termo: string): void {\r\n    const filtro: IFilter = {\r\n      filtro: termo,\r\n      pagina: 0,\r\n      direcaoOrdenacao: 'DESC',\r\n      tamanho: 10,\r\n      ordenarPor: 'id',\r\n    };\r\n    this.resourceService.getAll(filtro).subscribe((data) => {\r\n      this.resources = data['content'];\r\n      this.length = data['totalElements'];\r\n      this.pageSize = data['size'];\r\n    });\r\n  }\r\n\r\n  validaPermissao(rule: string): boolean {\r\n    return this._ruleService.temPermissao(rule);\r\n  }\r\n}\r\n","export abstract class BaseResourceModel {\r\n  id?: number;\r\n}\r\n"],"x_google_ignoreList":[]}