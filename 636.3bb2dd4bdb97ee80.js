"use strict";(self.webpackChunkstandart=self.webpackChunkstandart||[]).push([[636],{2636:(Fe,Z,l)=>{l.r(Z),l.d(Z,{ClienteModule:()=>Ue});var p=l(4666),f=l(9706),w=l(971),e=l(2560),T=l(2904),m=l(4410),g=l(7822),k=l(6060),L=l(6659),y=l(6714),Y=l(2802);function S(t,n){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," C\xf3d. Supergas "),e.qZA())}function j(t,n){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.codigoSupergas," ")}}function O(t,n){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Nome "),e.qZA())}function D(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",20),e._uU(2),e.qZA()()),2&t){const o=n.$implicit;e.xp6(2),e.hij(" ",o.nome," ")}}function R(t,n){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Endere\xe7o "),e.qZA())}function B(t,n){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.enderecos," ")}}function z(t,n){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," CNPJ "),e.qZA())}function $(t,n){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.cnpj," ")}}function P(t,n){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," E-mail "),e.qZA())}function M(t,n){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.email," ")}}function G(t,n){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Telefones "),e.qZA())}function H(t,n){if(1&t&&(e.TgZ(0,"mat-cell",21),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.telefone," ")}}function K(t,n){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Observa\xe7\xe3o "),e.qZA())}function V(t,n){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.xp6(1),e.hij(" ",o.observacoes," ")}}function X(t,n){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," A\xe7\xf5es "),e.qZA())}function W(t,n){1&t&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}const ee=function(t){return[t,"editar"]};function oe(t,n){if(1&t&&(e.TgZ(0,"span",25),e._UZ(1,"mat-icon",26),e.qZA()),2&t){const o=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,ee,o.id))}}function te(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"span",27),e.NdJ("click",function(){e.CHM(o);const i=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.excluir(i))}),e._UZ(1,"mat-icon",28),e.qZA()}}function ne(t,n){if(1&t&&(e.TgZ(0,"mat-cell"),e.YNc(1,W,2,0,"span",22),e.YNc(2,oe,2,3,"span",23),e.YNc(3,te,2,0,"span",24),e.qZA()),2&t){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!o.validaPermissao("MANTER_PERFIL")),e.xp6(1),e.Q6J("ngIf",o.validaPermissao("MANTER_PERFIL")),e.xp6(1),e.Q6J("ngIf",o.validaPermissao("MANTER_PERFIL"))}}function re(t,n){1&t&&e._UZ(0,"mat-header-row")}function ie(t,n){1&t&&e._UZ(0,"mat-row")}const A=function(){return["codigoSupergas","nome","email","telefone","acoes"]};function le(t,n){if(1&t&&(e.TgZ(0,"div",1)(1,"mat-table",6),e.ynx(2,7),e.YNc(3,S,2,0,"mat-header-cell",8),e.YNc(4,j,2,1,"mat-cell",9),e.BQk(),e.ynx(5,10),e.YNc(6,O,2,0,"mat-header-cell",8),e.YNc(7,D,3,1,"mat-cell",9),e.BQk(),e.ynx(8,11),e.YNc(9,R,2,0,"mat-header-cell",8),e.YNc(10,B,2,1,"mat-cell",9),e.BQk(),e.ynx(11,12),e.YNc(12,z,2,0,"mat-header-cell",8),e.YNc(13,$,2,1,"mat-cell",9),e.BQk(),e.ynx(14,13),e.YNc(15,P,2,0,"mat-header-cell",8),e.YNc(16,M,2,1,"mat-cell",9),e.BQk(),e.ynx(17,14),e.YNc(18,G,2,0,"mat-header-cell",8),e.YNc(19,H,2,1,"mat-cell",15),e.BQk(),e.ynx(20,16),e.YNc(21,K,2,0,"mat-header-cell",8),e.YNc(22,V,2,1,"mat-cell",9),e.BQk(),e.ynx(23,17),e.YNc(24,X,2,0,"mat-header-cell",8),e.YNc(25,ne,4,3,"mat-cell",9),e.BQk(),e.YNc(26,re,1,0,"mat-header-row",18),e.YNc(27,ie,1,0,"mat-row",19),e.qZA()()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("dataSource",o.resources),e.xp6(25),e.Q6J("matHeaderRowDef",e.DdM(3,A)),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(4,A))}}function ae(t,n){1&t&&e._UZ(0,"app-not-found-data",29)}function se(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",30)(1,"mat-paginator",31),e.NdJ("page",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.paginacao(i))}),e.qZA()()}if(2&t){const o=e.oxw();e.xp6(1),e.Q6J("length",o.length)("pageSize",o.pageSize)("pageSizeOptions",o.pageSizeOptions)}}let ce=(()=>{class t extends w.d{constructor(o,r){super(o,r),this.injector=o,this.clienteService=r}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(e.zs3),e.Y36(T.$))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-cliente-list"]],features:[e.qOj],decls:6,vars:4,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden","bg-card","dark:bg-transparent"],["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","overflow-y-auto"],["page-title","Clientes","placeholder-text","Buscar por nome",3,"show-button","pesquisar"],["class","flex flex-col flex-auto min-w-0 overflow-y-auto","cdkScrollable","",4,"ngIf"],["class","h-full","mensagem","Nenhum registro de perfils encontrado!",4,"ngIf"],["class","flex flex-0 flex-col",4,"ngIf"],[3,"dataSource"],["matColumnDef","codigoSupergas",1,"cursor-pointer"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","nome",1,"cursor-pointer"],["matColumnDef","enderecos",1,"cursor-pointer"],["matColumnDef","cnpj",1,"cursor-pointer"],["matColumnDef","email",1,"cursor-pointer"],["matColumnDef","telefone",1,"cursor-pointer"],["class","pl-2",4,"matCellDef"],["matColumnDef","observacoes",1,"cursor-pointer"],["matColumnDef","acoes"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"px-2","truncate","..."],[1,"pl-2"],[4,"ngIf"],["class","mr-2 cursor-pointer",3,"routerLink",4,"ngIf"],["class","cursor-pointer",3,"click",4,"ngIf"],[1,"mr-2","cursor-pointer",3,"routerLink"],["svgIcon","heroicons_outline:pencil-alt",1,"text-accent","dark:text-accent-300"],[1,"cursor-pointer",3,"click"],["svgIcon","heroicons_outline:trash",1,"text-warn-600"],["mensagem","Nenhum registro de perfils encontrado!",1,"h-full"],[1,"flex","flex-0","flex-col"],["aria-label","Select page",1,"flex","justify-end","border-t",3,"length","pageSize","pageSizeOptions","page"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-page-header",2),e.NdJ("pesquisar",function(s){return r.filtrarResource(s)}),e.qZA(),e.YNc(3,le,28,5,"div",3),e.YNc(4,ae,1,0,"app-not-found-data",4),e.qZA(),e.YNc(5,se,2,3,"div",5),e.qZA()),2&o&&(e.xp6(2),e.Q6J("show-button",!0),e.xp6(1),e.Q6J("ngIf",r.length>0),e.xp6(1),e.Q6J("ngIf",r.length<=0),e.xp6(1),e.Q6J("ngIf",r.length>0))},dependencies:[p.O5,f.rH,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,g.Hw,k.NW,L.PQ,y.J,Y.q]}),t})();var a=l(2508),b=l(6779),_=l(640),me=l(2688);class de extends me.s{constructor(n,o,r,i,s,c,x,C){super(),this.id=n,this.codigoSupergas=o,this.nome=r,this.enderecos=i,this.cnpj=s,this.email=c,this.telefone=x,this.observacoes=C}}class I{constructor(n,o,r,i,s,c,x,C,qe){this.id=n,this.logradouro=o,this.numero=r,this.complemento=i,this.bairro=s,this.cep=c,this.cidade=x,this.cidadeId=C,this.clienteId=qe}}var ue=l(6545),d=l.n(ue),pe=l(8280);let N=(()=>{class t extends pe.e{constructor(o){super("/enderecos",o),this.injector=o}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(e.zs3))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var J=l(2340),fe=l(8987);let ge=(()=>{class t{constructor(o){this.http=o,this.apiPath="/estados"}getAllEstados(){return this.http.get(`${J.N.api}${this.apiPath}`)}pegarTodasCidadeDoEstado(o){return this.http.get(`${J.N.api}${this.apiPath}/${o}/cidades`)}}return t.\u0275fac=function(o){return new(o||t)(e.LFG(fe.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var U=l(4522),u=l(5074),q=l(1267),_e=l(7371),he=l(207),F=l(5117),h=l(698);function ve(t,n){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(null==o?null:o.nome)}}function xe(t,n){if(1&t&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&t){const o=n.$implicit;e.Q6J("value",o.id),e.xp6(1),e.Oqu(null==o?null:o.nome)}}let E=(()=>{class t extends b.e{constructor(o,r,i,s,c){super(s,new I,i),this.matDialogRef=o,this.data=r,this.enderecoService=i,this.injector=s,this.estadosService=c,this.cidades=[],this.estados=[]}ngOnInit(){this.endereco=new I,super.ngOnInit(),setTimeout(()=>{this.estadosService.getAllEstados().subscribe(o=>this.estados=o)},0)}estadoSelecionado(){const o=this.resourceForm.get("estado").value;this.estadosService.pegarTodasCidadeDoEstado(o).subscribe(r=>this.cidades=r)}fecharJanela(){this.matDialogRef.close()}salvar(){if(this.endereco=this.resourceForm.value,!this.data.idCliente)return this.endereco.id=this.data.endereco.id,this.endereco.cidade=this.cidades.find(o=>o.id===this.endereco.cidadeId),this.endereco.cidade.estado=this.estados.find(o=>o.id===this.endereco.estado),void this.matDialogRef.close(this.endereco);this.endereco.clienteId=this.data.idCliente,this.data.adicionar&&this.enderecoService.insert(this.endereco).subscribe(()=>{this.matDialogRef.close(!0)},o=>{d().error("N\xe3o foi poss\xedvel adicionar o endere\xe7o!",o.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0})}),this.data.adicionar||(this.endereco.id=this.data.endereco.id,this.enderecoService.update(this.endereco).subscribe(()=>{this.matDialogRef.close(!0)},o=>{d().error("N\xe3o foi poss\xedvel atualizar o endere\xe7o!",o.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0})}))}loadResource(){this.data.endereco.cep&&setTimeout(()=>{this.estadosService.pegarTodasCidadeDoEstado(this.data.endereco.cidade.estado.id).subscribe(o=>this.cidades=o),this.resourceForm.patchValue(this.data.endereco),this.resourceForm.patchValue({estado:this.data.endereco.cidade.estado.id,cidadeId:this.data.endereco.cidade.id})},0)}buildResourceForm(){this.resourceForm=this.formBuilder.group({estado:[null,[a.kI.required]],cidadeId:[null,[a.kI.required]],logradouro:[null,[a.kI.required]],numero:[null,[a.kI.required]],bairro:[null,[a.kI.required,a.kI.minLength(3)]],cep:[null,[a.kI.required,a.kI.minLength(8)]],complemento:[null]})}createPageTitle(){return"Cadastro de Novo Endereco"}editionPageTitle(){return"Editando endereco"}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(_.so),e.Y36(_.WI),e.Y36(N),e.Y36(e.zs3),e.Y36(ge))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-form-endereco"]],features:[e.qOj],decls:64,vars:24,consts:[[1,"flex","flex-col","max-w-240","md:min-w-160","max-h-screen","-m-6"],[1,"flex","flex-0","items-center","justify-between","h-16","pr-3","sm:pr-5","pl-6","sm:pl-8","bg-primary","text-on-primary"],[1,"text-lg","font-medium"],["mat-icon-button","",3,"tabIndex","click"],[1,"text-current",3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],[1,"flex-auto","gt-xs:pr-3"],["formControlName","estado",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[3,"formControlName"],[1,"flex","flex-auto","flex-wrap"],[1,"flex","flex-col","w-full"],[1,"flex"],[1,"w-3/4","pr-2","flex-col"],[1,"w-full"],["id","logradouro","matInput","","placeholder","informa o logradouro",3,"formControlName"],[3,"form-control"],[1,"w-1/4","pr-2","flex-col"],["type","number","id","numero","matInput","","placeholder","informe o numero",3,"formControlName"],[1,"w-1/2","pr-2","flex-col"],["id","cep","matInput","","mask","00000-000","placeholder","informa o cep do endere\xe7o",3,"formControlName"],["id","bairro","matInput","","placeholder","informa o bairro",3,"formControlName"],["id","complemento","matInput","","placeholder","informa o complemento da cliente",3,"formControlName"],[1,"flex","flex-col","sm:flex-row","sm:items-center","justify-between","mt-4","sm:mt-6"],[1,"flex","w-full","justify-end","mt-4","sm:mt-0"],["mat-stroked-button","",1,"sm:mx-3",3,"click"],["mat-flat-button","",1,"order-first","sm:order-last",3,"color","disabled","click"],[3,"value"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Endere\xe7o"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return r.fecharJanela()}),e._UZ(5,"mat-icon",4),e.qZA()(),e.TgZ(6,"form",5)(7,"mat-form-field",6)(8,"mat-label"),e._uU(9,"Estado"),e.qZA(),e.TgZ(10,"mat-select",7),e.NdJ("selectionChange",function(){return r.estadoSelecionado()}),e.YNc(11,ve,2,2,"mat-option",8),e.qZA(),e._UZ(12,"mat-icon",9),e.qZA(),e.TgZ(13,"mat-form-field",6)(14,"mat-label"),e._uU(15,"Cidade"),e.qZA(),e.TgZ(16,"mat-select",10),e.YNc(17,xe,2,2,"mat-option",8),e.qZA(),e._UZ(18,"mat-icon",9),e.qZA(),e.TgZ(19,"div",11)(20,"div",12)(21,"div",13)(22,"div",14)(23,"mat-form-field",15)(24,"mat-label"),e._uU(25,"Logradouro"),e.qZA(),e._UZ(26,"mat-icon",9)(27,"input",16),e.qZA(),e._UZ(28,"app-form-field-error",17),e.qZA(),e.TgZ(29,"div",18)(30,"mat-form-field",15)(31,"mat-label"),e._uU(32,"N\xfamero"),e.qZA(),e._UZ(33,"mat-icon",9)(34,"input",19),e.qZA(),e._UZ(35,"app-form-field-error",17),e.qZA()(),e.TgZ(36,"div",13)(37,"div",20)(38,"mat-form-field",15)(39,"mat-label"),e._uU(40,"cep"),e.qZA(),e._UZ(41,"mat-icon",9)(42,"input",21),e.qZA(),e._UZ(43,"app-form-field-error",17),e.qZA(),e.TgZ(44,"div",20)(45,"mat-form-field",15)(46,"mat-label"),e._uU(47,"Bairro"),e.qZA(),e._UZ(48,"mat-icon",9)(49,"input",22),e.qZA(),e._UZ(50,"app-form-field-error",17),e.qZA()(),e.TgZ(51,"div",13)(52,"mat-form-field",15)(53,"mat-label"),e._uU(54,"Complemento"),e.qZA(),e._UZ(55,"mat-icon",9)(56,"input",23),e.qZA()()()(),e.TgZ(57,"div",24)(58,"div",25)(59,"button",26),e.NdJ("click",function(){return r.fecharJanela()}),e.TgZ(60,"span"),e._uU(61,"Cancelar"),e.qZA()(),e.TgZ(62,"button",27),e.NdJ("click",function(){return r.salvar()}),e._uU(63," Salvar "),e.qZA()()()()()),2&o&&(e.xp6(4),e.Q6J("tabIndex",-1),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:x"),e.xp6(1),e.Q6J("formGroup",r.resourceForm),e.xp6(5),e.Q6J("ngForOf",r.estados),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(4),e.Q6J("formControlName","cidadeId"),e.xp6(1),e.Q6J("ngForOf",r.cidades),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:location-marker"),e.xp6(1),e.Q6J("formControlName","logradouro"),e.xp6(1),e.Q6J("form-control",r.resourceForm.get("logradouro")),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:location-marker"),e.xp6(1),e.Q6J("formControlName","numero"),e.xp6(1),e.Q6J("form-control",r.resourceForm.get("numero")),e.xp6(6),e.Q6J("svgIcon","heroicons_outline:location-marker"),e.xp6(1),e.Q6J("formControlName","cep"),e.xp6(1),e.Q6J("form-control",r.resourceForm.get("cep")),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:location-marker"),e.xp6(1),e.Q6J("formControlName","bairro"),e.xp6(1),e.Q6J("form-control",r.resourceForm.get("bairro")),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:document-text"),e.xp6(1),e.Q6J("formControlName","complemento"),e.xp6(6),e.Q6J("color","primary")("disabled",r.resourceForm.invalid))},dependencies:[p.sg,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,U.lW,g.Hw,u.KE,u.hX,u.qo,q.Nt,_e.gD,he.ey,F.p,h.hx]}),t})();var Ce=l(1683),v=l(8589),Ze=l(2494);function Te(t,n){if(1&t&&(e.TgZ(0,"span",42)(1,"strong"),e._uU(2,"Complemento: "),e.qZA(),e._uU(3),e.qZA()),2&t){const o=e.oxw().$implicit;e.xp6(3),e.hij(" ",null==o?null:o.complemento," ")}}function Ae(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",31)(1,"div",32)(2,"div",33),e._uU(3),e.qZA(),e.TgZ(4,"div",34)(5,"button",35),e._UZ(6,"mat-icon",36),e.qZA(),e.TgZ(7,"mat-menu",null,37)(9,"button",38),e.NdJ("click",function(){const s=e.CHM(o).$implicit,c=e.oxw(2);return e.KtG(c.editarEndereco(s))}),e._uU(10,"Editar"),e.qZA(),e.TgZ(11,"button",38),e.NdJ("click",function(){const s=e.CHM(o).$implicit,c=e.oxw(2);return e.KtG(c.excluirEndereco(s))}),e._uU(12,"Excluir"),e.qZA()()()(),e.TgZ(13,"div",39)(14,"div",40),e._UZ(15,"mat-icon",41),e.TgZ(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"span",42)(19,"strong"),e._uU(20,"Bairro: "),e.qZA(),e._uU(21),e.qZA(),e.YNc(22,Te,4,1,"span",43),e.TgZ(23,"span",42),e._uU(24),e.qZA(),e.TgZ(25,"span",42)(26,"strong"),e._uU(27,"CEP: "),e.qZA(),e._uU(28),e.qZA()()()}if(2&t){const o=n.$implicit,r=n.index,i=e.MAs(8);e.xp6(3),e.hij(" Endere\xe7o ",r+1," "),e.xp6(2),e.Q6J("matMenuTriggerFor",i),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:dots-vertical"),e.xp6(9),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(2),e.AsE(" ",null==o?null:o.logradouro," - ",null==o?null:o.numero," "),e.xp6(4),e.hij(" ",null==o?null:o.bairro," "),e.xp6(1),e.Q6J("ngIf",o.complemento),e.xp6(2),e.AsE(" ",null==o||null==o.cidade?null:o.cidade.nome," / ",null==o||null==o.cidade||null==o.cidade.estado?null:o.cidade.estado.uf," "),e.xp6(4),e.hij("",null==o?null:o.cep," ")}}function be(t,n){if(1&t&&(e.TgZ(0,"div",29),e.YNc(1,Ae,29,11,"div",30),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.enderecos)}}function Ie(t,n){1&t&&(e.TgZ(0,"fuse-alert",44),e._uU(1," Nenhum "),e.TgZ(2,"strong"),e._uU(3,"endere\xe7o"),e.qZA(),e._uU(4," cadastrado ainda! "),e.qZA()),2&t&&e.Q6J("type","warning")("appearance","outline")}let Q=(()=>{class t extends b.e{constructor(o,r,i,s,c){super(r,new de,o),this.clienteService=o,this.injector=r,this._fuseConfirmationService=i,this.enderecoService=s,this._matDialog=c,this.enderecos=[]}ngOnInit(){this.enderecos=[],super.ngOnInit(),"editar"===this.currentAction&&setTimeout(()=>{this.carregarEnderecos()},500)}buildResourceForm(){this.resourceForm=this.formBuilder.group({codigoSupergas:[null,[a.kI.required,a.kI.minLength(2)]],nome:[null,[a.kI.required,a.kI.minLength(2)]],cnpj:[null,[a.kI.required,a.kI.minLength(12)]],email:[null,[a.kI.required,a.kI.email]],telefone:[null,[a.kI.required]],observacoes:[null],enderecos:[this.enderecos]})}carregarEnderecos(){this.enderecos=this.resource.enderecos}adicionarEndereco(){this._matDialog.open(E,{data:{idCliente:this.resource.id,endereco:{id:this.enderecos.length+1},adicionar:!0}}).afterClosed().subscribe(i=>{if(!this.resource.id&&i)return this.enderecos||(this.enderecos=[]),void this.enderecos.push(i);i&&(d().success("Endere\xe7o cadastrado com sucesso!","",{timeOut:1e4,progressBar:!0,closeButton:!0}),this.ngOnInit())})}editarEndereco(o){this._matDialog.open(E,{data:{idCliente:this.resource.id,endereco:o,adicionar:!1}}).afterClosed().subscribe(i=>{i&&(d().success("Endere\xe7o atualizado com sucesso!","",{timeOut:1e4,progressBar:!0,closeButton:!0}),this.ngOnInit())})}excluirEndereco(o){this._fuseConfirmationService.open({title:"Deseja realmente excluir o endereco selecionado?",message:"",icon:{show:!0,name:"heroicons_outline:exclamation",color:"warn"},actions:{confirm:{show:!0,label:"Confirmar",color:"warn"},cancel:{show:!0,label:"Cancelar"}},dismissible:!1}).afterClosed().subscribe(i=>{if("confirmed"===i){if(!this.resource.id)return void(this.enderecos=this.enderecos.filter(s=>s.id!==o.id));this.enderecoService.delete(o.id).subscribe(s=>{d().success("Endere\xe7o exclu\xeddo com sucesso!","",{timeOut:1e4,progressBar:!0,closeButton:!0}),this.enderecos=this.enderecos.filter(c=>c.id!==o.id)},s=>{d().error("N\xe3o foi poss\xedvel excluir o endere\xe7o selecionado",s.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0})})}})}submitForm(){"novo"===this.currentAction&&(this.enderecos=this.enderecos.map(o=>(o.id=null,o)),this.resourceForm.get("enderecos").setValue(this.enderecos)),super.submitForm()}createPageTitle(){return"Cadastro de Novo Cliente"}editionPageTitle(){return"Editando Cliente: "+(this.resource.nome||"")}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(T.$),e.Y36(e.zs3),e.Y36(Ce.R),e.Y36(N),e.Y36(_.uw))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-cliente-form"]],features:[e.qOj],decls:65,vars:22,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"bg-card","rounded-2xl","shadow","overflow-hidden"],[1,"m-4",3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"flex","flex-auto","flex-wrap","my-5"],[1,"flex","flex-col","w-full","sm:pl-8"],[1,"flex"],[1,"w-1/2","pr-2","flex-col"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["id","codigoSupergas","matInput","","placeholder","informa o cod. superg\xe1s da cliente",3,"formControlName"],[3,"form-control"],["id","nome_id","matInput","","placeholder","informa o nome da cliente",3,"formControlName"],[1,"w-1/3","pr-2","flex-col"],["id","cnpj","matInput","","mask","00.000.000/0000-00","placeholder","informa o cnpj da cliente",3,"formControlName"],["id","email","type","email","matInput","","placeholder","informa o e-mail da cliente",3,"formControlName"],["id","telefone","matInput","","placeholder","informa o telefone da cliente",3,"formControlName"],["id","observacoes","matInput","","placeholder","informa o observacoes da cliente",3,"formControlName"],[1,"w-full","sm:pl-8"],[1,"flex","items-center","justify-center","pr-2","border-2","border-dashed","border-gray-300","rounded-2xl","cursor-pointer",3,"click"],[1,"text-2xl","py-2"],["class","grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-6 w-full min-w-0 mt-3",4,"ngIf"],["class","mt-2",3,"type","appearance",4,"ngIf"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["routerLink","/cliente","routerLinkActive","router-link-active"],["mat-stroked-button","","type","button",1,"fuse-mat-button-rounded","mat-flat-button","mat-button-base"],["mat-flat-button","","type","button",1,"ml-4","fuse-mat-button-rounded","mat-flat-button","mat-button-base","mat-primary",3,"disabled","click"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-2","gap-6","w-full","min-w-0","mt-3"],["class","flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden dark:bg-accent-700 bg-accent-100",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden","dark:bg-accent-700","bg-accent-100"],[1,"flex","items-start","justify-between"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"ml-2","-mt-2","-mr-3"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"icon-size-5",3,"svgIcon"],["summaryMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"flex","flex-col","mt-2"],[1,"flex","item-center"],[1,"icon-size-5","text-hint","mr-1",3,"svgIcon"],[1,"ml-6"],["class","ml-6",4,"ngIf"],[1,"mt-2",3,"type","appearance"]],template:function(o,r){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"mat-form-field",4)(12,"mat-label"),e._uU(13,"Cod. Superg\xe1s"),e.qZA(),e._UZ(14,"mat-icon",10)(15,"input",11),e.qZA(),e._UZ(16,"app-form-field-error",12),e.qZA(),e.TgZ(17,"div",9)(18,"mat-form-field",4)(19,"mat-label"),e._uU(20,"Nome Cliente"),e.qZA(),e._UZ(21,"mat-icon",10)(22,"input",13),e.qZA(),e._UZ(23,"app-form-field-error",12),e.qZA()(),e.TgZ(24,"div",8)(25,"div",14)(26,"mat-form-field",4)(27,"mat-label"),e._uU(28,"cnpj"),e.qZA(),e._UZ(29,"mat-icon",10)(30,"input",15),e.qZA(),e._UZ(31,"app-form-field-error",12),e.qZA(),e.TgZ(32,"div",14)(33,"mat-form-field",4)(34,"mat-label"),e._uU(35,"E-mail"),e.qZA(),e._UZ(36,"mat-icon",10)(37,"input",16),e.qZA(),e._UZ(38,"app-form-field-error",12),e.qZA(),e.TgZ(39,"div",14)(40,"mat-form-field",4)(41,"mat-label"),e._uU(42,"Telefones"),e.qZA(),e._UZ(43,"mat-icon",10)(44,"input",17),e.qZA(),e._UZ(45,"app-form-field-error",12),e.qZA()(),e.TgZ(46,"div",8)(47,"mat-form-field",4)(48,"mat-label"),e._uU(49,"Observa\xe7\xf5es"),e.qZA(),e._UZ(50,"mat-icon",10)(51,"input",18),e.qZA()()()(),e.TgZ(52,"div",19)(53,"div",20),e.NdJ("click",function(){return r.adicionarEndereco()}),e.TgZ(54,"h1",21),e._uU(55,"+ Adicionar endere\xe7o"),e.qZA()(),e.YNc(56,be,2,1,"div",22),e.YNc(57,Ie,5,2,"fuse-alert",23),e.qZA(),e._UZ(58,"div",24),e.TgZ(59,"div",25)(60,"a",26)(61,"button",27),e._uU(62," Cancelar "),e.qZA()(),e.TgZ(63,"button",28),e.NdJ("click",function(){return r.submitForm()}),e._uU(64," Salvar "),e.qZA()()()()()()),2&o&&(e.xp6(3),e.Q6J("formGroup",r.resourceForm),e.xp6(3),e.Oqu(r.pageTitle),e.xp6(8),e.Q6J("svgIcon","heroicons_outline:view-grid"),e.xp6(1),e.Q6J("formControlName","codigoSupergas"),e.xp6(1),e.Q6J("form-control",r.resourceForm.get("codigoSupergas")),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:user"),e.xp6(1),e.Q6J("formControlName","nome"),e.xp6(1),e.Q6J("form-control",r.resourceForm.get("nome")),e.xp6(6),e.Q6J("svgIcon","heroicons_outline:user"),e.xp6(1),e.Q6J("formControlName","cnpj"),e.xp6(1),e.Q6J("form-control",r.resourceForm.get("cnpj")),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:mail"),e.xp6(1),e.Q6J("formControlName","email"),e.xp6(1),e.Q6J("form-control",r.resourceForm.get("email")),e.xp6(5),e.Q6J("svgIcon","mat_outline:settings_cell"),e.xp6(1),e.Q6J("formControlName","telefone"),e.xp6(1),e.Q6J("form-control",r.resourceForm.get("telefone")),e.xp6(5),e.Q6J("svgIcon","heroicons_outline:document-text"),e.xp6(1),e.Q6J("formControlName","observacoes"),e.xp6(5),e.Q6J("ngIf",r.enderecos&&r.enderecos.length>0),e.xp6(1),e.Q6J("ngIf",!r.enderecos||r.enderecos.length<=0),e.xp6(6),e.Q6J("disabled",r.resourceForm.invalid||r.enderecos.length<=0))},dependencies:[p.sg,p.O5,f.yS,f.Od,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,U.lW,g.Hw,u.KE,u.hX,u.qo,q.Nt,v.VK,v.OP,v.p6,Ze.W,F.p,h.hx]}),t})();var Ne=l(4466);const Je=[{path:"",component:ce},{path:"novo",component:Q},{path:":id/editar",component:Q}];let Ue=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.ez,f.Bz.forChild(Je),Ne.m,h.yI.forRoot()]}),t})()}}]);
//# sourceMappingURL=636.3bb2dd4bdb97ee80.js.map