"use strict";(self.webpackChunkstandart=self.webpackChunkstandart||[]).push([[153],{6153:(Z,h,s)=>{s.r(h),s.d(h,{PermissaoModule:()=>se});var o=s(4666),f=s(9706),u=s(2508),_=s(6779),p=s(2688);class v extends p.s{constructor(i,r,m){super(),this.id=i,this.descricao=r,this.permissaoPai=m}}var P=s(6545),g=s.n(P),e=s(2560),l=s(3574),a=s(4522),n=s(7822),c=s(5074),d=s(1267),C=s(7371),E=s(207),D=s(5117);function N(t,i){if(1&t&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&t){const r=e.oxw().$implicit;e.Q6J("value",r.id),e.xp6(1),e.Oqu(r.descricao)}}function b(t,i){if(1&t&&(e.ynx(0),e.YNc(1,N,2,2,"mat-option",19),e.BQk()),2&t){const r=i.$implicit;e.xp6(1),e.Q6J("ngIf",!r.permissaoPai)}}let S=(()=>{class t extends _.e{constructor(r,m){super(m,new v,r),this.permissaoService=r,this.injector=m,this.permissoes=[]}ngOnInit(){super.ngOnInit(),this.carregaPermissoes()}buildResourceForm(){this.resourceForm=this.formBuilder.group({descricao:[null,[u.kI.required,u.kI.minLength(2)]],permissaoPai:[]})}carregaPermissoes(){this.permissaoService.getAll({filtro:"",pagina:0,direcaoOrdenacao:"DESC",tamanho:100,ordenarPor:"id"}).subscribe(m=>{this.permissoes=m.content,this.resourceForm.patchValue({permissaoPai:this.resource?.permissaoPai?.id})},m=>g().error("N\xe3o foi poss\xedvel carregar as permiss\xf5es",m.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0}))}createPageTitle(){return"Cadastro de Novo Permissao"}editionPageTitle(){return"Editando permiss\xe3o: "+(this.resource.descricao||"")}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(l.k),e.Y36(e.zs3))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-permissao-form"]],features:[e.qOj],decls:29,vars:8,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"bg-card","rounded-2xl","shadow","overflow-hidden"],[1,"m-4",3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["id","descricao_id","matInput","","placeholder","informa o descricao da perfil",1,"uppercase",3,"formControlName"],[3,"form-control"],["id","permissaoPai","formControlName","permissaoPai"],[4,"ngFor","ngForOf"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["routerLink","/permissao","routerLinkActive","router-link-active"],["mat-stroked-button","","type","button",1,"fuse-mat-button-rounded","mat-flat-button","mat-button-base"],["mat-flat-button","","type","button",1,"ml-4","fuse-mat-button-rounded","mat-flat-button","mat-button-base","mat-primary",3,"disabled","click"],[3,"value",4,"ngIf"],[3,"value"]],template:function(r,m){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),e._uU(11,"Descri\xe7\xe3o"),e.qZA(),e._UZ(12,"mat-icon",9)(13,"input",10),e.qZA(),e._UZ(14,"app-form-field-error",11),e.qZA(),e.TgZ(15,"div",7)(16,"mat-form-field",8)(17,"mat-label"),e._uU(18,"Permiss\xe3o Pai"),e.qZA(),e.TgZ(19,"mat-select",12),e.YNc(20,b,2,1,"ng-container",13),e.qZA(),e._UZ(21,"mat-icon",9),e.qZA()()(),e._UZ(22,"div",14),e.TgZ(23,"div",15)(24,"a",16)(25,"button",17),e._uU(26," Cancelar "),e.qZA()(),e.TgZ(27,"button",18),e.NdJ("click",function(){return m.submitForm()}),e._uU(28," Salvar "),e.qZA()()()()()()),2&r&&(e.xp6(3),e.Q6J("formGroup",m.resourceForm),e.xp6(3),e.Oqu(m.pageTitle),e.xp6(6),e.Q6J("svgIcon","heroicons_outline:view-grid"),e.xp6(1),e.Q6J("formControlName","descricao"),e.xp6(1),e.Q6J("form-control",m.resourceForm.get("descricao")),e.xp6(6),e.Q6J("ngForOf",m.permissoes),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:document-text"),e.xp6(6),e.Q6J("disabled",m.resourceForm.invalid))},dependencies:[o.sg,o.O5,f.yS,f.Od,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,a.lW,n.Hw,c.KE,c.hX,c.qo,d.Nt,C.gD,E.ey,D.p]}),t})();var R=s(971),x=s(4410),L=s(6060),B=s(6659),F=s(6714),w=s(2802);function y(t,i){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," C\xf3digo "),e.qZA())}function J(t,i){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const r=i.$implicit;e.xp6(1),e.hij(" ",r.id," ")}}function M(t,i){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Descri\xe7\xe3o "),e.qZA())}function U(t,i){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.ALo(2,"uppercase"),e.qZA()),2&t){const r=i.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,r.descricao)," ")}}function z(t,i){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Permiss\xe3o Pai "),e.qZA())}function Q(t,i){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const r=i.$implicit;e.xp6(1),e.hij(" ",r.permissaoPai?r.permissaoPai.descricao:"-"," ")}}function Y(t,i){1&t&&(e.TgZ(0,"mat-header-cell"),e._uU(1," A\xe7\xf5es "),e.qZA())}function j(t,i){1&t&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}const H=function(t){return[t,"editar"]};function K(t,i){if(1&t&&(e.TgZ(0,"span",18),e._UZ(1,"mat-icon",19),e.qZA()),2&t){const r=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,H,r.id))}}function W(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"span",20),e.NdJ("click",function(){e.CHM(r);const T=e.oxw().$implicit,O=e.oxw(2);return e.KtG(O.excluir(T))}),e._UZ(1,"mat-icon",21),e.qZA()}}function k(t,i){if(1&t&&(e.TgZ(0,"mat-cell"),e.YNc(1,j,2,0,"span",15),e.YNc(2,K,2,3,"span",16),e.YNc(3,W,2,0,"span",17),e.qZA()),2&t){const r=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!r.validaPermissao("MANTER_PERMISSAO")),e.xp6(1),e.Q6J("ngIf",r.validaPermissao("MANTER_PERMISSAO")),e.xp6(1),e.Q6J("ngIf",r.validaPermissao("MANTER_PERMISSAO"))}}function G(t,i){1&t&&e._UZ(0,"mat-header-row")}function X(t,i){1&t&&e._UZ(0,"mat-row")}const I=function(){return["id","descricao","permissaoPai","acoes"]};function $(t,i){if(1&t&&(e.TgZ(0,"div",1)(1,"mat-table",6),e.ynx(2,7),e.YNc(3,y,2,0,"mat-header-cell",8),e.YNc(4,J,2,1,"mat-cell",9),e.BQk(),e.ynx(5,10),e.YNc(6,M,2,0,"mat-header-cell",8),e.YNc(7,U,3,3,"mat-cell",9),e.BQk(),e.ynx(8,11),e.YNc(9,z,2,0,"mat-header-cell",8),e.YNc(10,Q,2,1,"mat-cell",9),e.BQk(),e.ynx(11,12),e.YNc(12,Y,2,0,"mat-header-cell",8),e.YNc(13,k,4,3,"mat-cell",9),e.BQk(),e.YNc(14,G,1,0,"mat-header-row",13),e.YNc(15,X,1,0,"mat-row",14),e.qZA()()),2&t){const r=e.oxw();e.xp6(1),e.Q6J("dataSource",r.resources),e.xp6(13),e.Q6J("matHeaderRowDef",e.DdM(3,I)),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(4,I))}}function q(t,i){1&t&&e._UZ(0,"app-not-found-data",22)}function V(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",23)(1,"mat-paginator",24),e.NdJ("page",function(T){e.CHM(r);const O=e.oxw();return e.KtG(O.paginacao(T))}),e.qZA()()}if(2&t){const r=e.oxw();e.xp6(1),e.Q6J("length",r.length)("pageSize",r.pageSize)("pageSizeOptions",r.pageSizeOptions)}}let ee=(()=>{class t extends R.d{constructor(r,m){super(r,m),this.injector=r,this.permissaoService=m}}return t.\u0275fac=function(r){return new(r||t)(e.Y36(e.zs3),e.Y36(l.k))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-permissao-list"]],features:[e.qOj],decls:6,vars:4,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden","bg-card","dark:bg-transparent"],["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","overflow-y-auto"],["page-title","Permiss\xf5es","placeholder-text","Buscar por descricao",3,"show-button","pesquisar"],["class","flex flex-col flex-auto min-w-0 overflow-y-auto","cdkScrollable","",4,"ngIf"],["class","h-full","mensagem","Nenhum registro de perfils encontrado!",4,"ngIf"],["class","flex flex-0 flex-col",4,"ngIf"],[3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","descricao",1,"cursor-pointer"],["matColumnDef","permissaoPai",1,"cursor-pointer"],["matColumnDef","acoes"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","mr-2 cursor-pointer",3,"routerLink",4,"ngIf"],["class","cursor-pointer",3,"click",4,"ngIf"],[1,"mr-2","cursor-pointer",3,"routerLink"],["svgIcon","heroicons_outline:pencil-alt",1,"text-accent","dark:text-accent-300"],[1,"cursor-pointer",3,"click"],["svgIcon","heroicons_outline:trash",1,"text-warn-600"],["mensagem","Nenhum registro de perfils encontrado!",1,"h-full"],[1,"flex","flex-0","flex-col"],["aria-label","Select page",1,"flex","justify-end","border-t",3,"length","pageSize","pageSizeOptions","page"]],template:function(r,m){1&r&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-page-header",2),e.NdJ("pesquisar",function(O){return m.filtrarResource(O)}),e.qZA(),e.YNc(3,$,16,5,"div",3),e.YNc(4,q,1,0,"app-not-found-data",4),e.qZA(),e.YNc(5,V,2,3,"div",5),e.qZA()),2&r&&(e.xp6(2),e.Q6J("show-button",m.validaPermissao("MANTER_PERMISSAO")),e.xp6(1),e.Q6J("ngIf",m.length>0),e.xp6(1),e.Q6J("ngIf",m.length<=0),e.xp6(1),e.Q6J("ngIf",m.length>0))},dependencies:[o.O5,f.rH,x.BZ,x.fO,x.as,x.w1,x.Dz,x.nj,x.ge,x.ev,x.XQ,x.Gk,n.Hw,L.NW,B.PQ,F.J,w.q,o.gd]}),t})();var te=s(4466);const oe=[{path:"",component:ee},{path:"novo",component:S},{path:":id/editar",component:S}];let se=(()=>{class t{}return t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[o.ez,f.Bz.forChild(oe),te.m]}),t})()},6714:(Z,h,s)=>{s.d(h,{J:()=>f});var o=s(2560);let f=(()=>{class u{}return u.\u0275fac=function(p){return new(p||u)},u.\u0275cmp=o.Xpm({type:u,selectors:[["app-not-found-data"]],inputs:{mensagem:"mensagem"},decls:4,vars:1,consts:[[1,"flex","flex-col","w-full","h-full","items-center","justify-center","border-t-2","border-gray-200"],["src","assets/icons/searching.svg","alt","",1,"w-64","h-64"],[1,"mt-2","text-lg","md:text-2xl","font-medium","tracking-tight","text-center","text-secondary"]],template:function(p,v){1&p&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.TgZ(2,"p",2),o._uU(3),o.qZA()()),2&p&&(o.xp6(3),o.Oqu(v.mensagem))}}),u})()},2802:(Z,h,s)=>{s.d(h,{q:()=>l});var o=s(2560),f=s(4666),u=s(9706),_=s(7822),p=s(5074),v=s(1267),A=s(4522);function P(a,n){if(1&a){const c=o.EpF();o.TgZ(0,"mat-form-field",5),o._UZ(1,"mat-icon",6),o.TgZ(2,"input",7,8),o.NdJ("keyup",function(){o.CHM(c);const C=o.MAs(3),E=o.oxw();return o.KtG(E.filtrar(C.value))}),o.qZA()()}if(2&a){const c=o.oxw();o.xp6(1),o.Q6J("svgIcon","heroicons_solid:search"),o.xp6(1),o.Q6J("autocomplete","off")("placeholder",c.placeholder)}}const g=function(){return["novo"]};function e(a,n){1&a&&(o.TgZ(0,"a",9)(1,"span",10),o._UZ(2,"mat-icon",11),o._uU(3," Cadastrar "),o.qZA()()),2&a&&(o.Q6J("routerLink",o.DdM(2,g)),o.xp6(2),o.Q6J("svgIcon","heroicons_outline:plus"))}let l=(()=>{class a{constructor(){this.pageTitle="",this.showButton=!0,this.showSearch=!0,this.placeholder="",this.pesquisar=new o.vpe}ngOnInit(){}filtrar(c){this.pesquisar.emit(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275cmp=o.Xpm({type:a,selectors:[["app-page-header"]],inputs:{pageTitle:["page-title","pageTitle"],showButton:["show-button","showButton"],showSearch:["show-search","showSearch"],placeholder:["placeholder-text","placeholder"]},outputs:{pesquisar:"pesquisar"},decls:6,vars:3,consts:[[1,"relative","flex","flex-col","flx-col-0","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","flex-col","sm:flex-row","items-start","shrink-0","sm:items-center","mt-6","sm:mt-0","sm:ml-4"],["class","fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded min-w-64",4,"ngIf"],["routerLinkActive","router-link-active","class","mat-focus-indicator mt-2 fuse-mat-button-rounded mat-flat-button mat-button-base mat-accent m-1 text-1xl","mat-flat-button","",3,"routerLink",4,"ngIf"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","id","searchPerfil",3,"autocomplete","placeholder","keyup"],["temoPesquisa",""],["routerLinkActive","router-link-active","mat-flat-button","",1,"mat-focus-indicator","mt-2","fuse-mat-button-rounded","mat-flat-button","mat-button-base","mat-accent","m-1","text-1xl",3,"routerLink"],[1,"p-3","flex","flex-row","items-center"],[1,"icon-size-5",3,"svgIcon"]],template:function(c,d){1&c&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2),o.qZA(),o.TgZ(3,"div",2),o.YNc(4,P,4,3,"mat-form-field",3),o.YNc(5,e,4,3,"a",4),o.qZA()()),2&c&&(o.xp6(2),o.Oqu(d.pageTitle),o.xp6(2),o.Q6J("ngIf",d.showSearch),o.xp6(1),o.Q6J("ngIf",d.showButton))},dependencies:[f.O5,u.yS,u.Od,_.Hw,p.KE,p.qo,v.Nt,A.zs]}),a})()},6779:(Z,h,s)=>{s.d(h,{e:()=>P});var o=s(2560),f=s(2508),u=s(9706),_=s(6545),p=s.n(_),v=(()=>((v||(v={})).CARREGAMENTO_DADOS_API="carregamento-dados-api",v))(),A=s(8280);let P=(()=>{class g{constructor(l,a,n){this.injecto=l,this.resource=a,this.resourceService=n,this.carregamentoDeDados=new o.vpe,this.route=this.injecto.get(u.gz),this.router=this.injecto.get(u.F0),this.formBuilder=this.injecto.get(f.qu)}ngOnInit(){this.setCurrentAction(),this.buildResourceForm(),this.loadResource()}ngAfterContentChecked(){this.setPageTitle()}submitForm(){if(this.resourceForm.invalid)return;const l=this.resourceForm.value;"novo"!==this.currentAction?(l.id=this.resource.id,this.resourceService.update(l).subscribe(()=>{p().success("Dado atualizado com sucesso!","Sucesso",{timeOut:1e4,progressBar:!0,closeButton:!0}),this.router.navigate([this.route.snapshot.parent.url[0].path])},a=>{p().error("N\xe3o foi poss\xedvel atualizar o dado",a.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0})})):this.resourceService.insert(l).subscribe(()=>{p().success("Dado cadastrado com sucesso!","Sucesso",{timeOut:1e4,progressBar:!0,closeButton:!0}),this.router.navigate([this.route.snapshot.parent.url[0].path])},a=>{p().error("N\xe3o foi poss\xedvel carregar os dados",a.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0})})}setCurrentAction(){this.currentAction="novo"===this.route.snapshot.url[this.route.snapshot.url.length-1]?.path?"novo":"editar"}loadResource(){if("editar"===this.currentAction){const l=Number(this.route.snapshot.url[this.route.snapshot.url.length-2]?.path);this.resourceService.getById(l).subscribe(a=>{this.resource=a,this.resourceForm.patchValue(this.resource),this.carregamentoDeDados.emit(v.CARREGAMENTO_DADOS_API)},a=>{p().error("N\xe3o foi poss\xedvel carregar os dados",a.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0})})}}setPageTitle(){this.pageTitle="novo"===this.currentAction?this.createPageTitle():this.editionPageTitle()}createPageTitle(){return"Novo"}editionPageTitle(){return"Edi\xe7\xe3o"}}return g.\u0275fac=function(l){return new(l||g)(o.Y36(o.zs3),o.Y36("resource"),o.Y36(A.e))},g.\u0275cmp=o.Xpm({type:g,selectors:[["ng-component"]],decls:0,vars:0,template:function(l,a){},encapsulation:2}),g})()},971:(Z,h,s)=>{s.d(h,{d:()=>e});var o=s(6060),f=s(1683),u=s(705),_=s(7134),p=s(2560);let v=(()=>{class l{constructor(){}temPermissao(n){const c=localStorage.getItem(_.O.TOKEN);if(!c)return!1;const{ROLES:d}=u.l.decodeToken(c);return!!Object(d).find(C=>C==n)}}return l.\u0275fac=function(n){return new(n||l)},l.\u0275prov=p.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var A=s(6545),P=s.n(A),g=s(8280);let e=(()=>{class l{constructor(n,c){this.injecto=n,this.resourceService=c,this.resources=[],this.length=0,this.pageSize=10,this.pageSizeOptions=[5,10,25,100],this._fuseConfirmationService=this.injecto.get(f.R),this._matPaginatorIntl=this.injecto.get(o.ye),this._ruleService=this.injecto.get(v)}ngOnInit(){this.carregaInformacoesResource(),this._matPaginatorIntl.itemsPerPageLabel="Itens por p\xe1gina"}setPageSizeOptions(n){n&&(this.pageSizeOptions=n.split(",").map(c=>+c))}carregaInformacoesResource(){this.resourceService.getAll({filtro:"",pagina:0,direcaoOrdenacao:"DESC",tamanho:10,ordenarPor:"id"}).subscribe(c=>{this.resources=c.content,this.length=c.totalElements,this.pageSize=c.size})}excluir(n){this._fuseConfirmationService.open({title:`Deseja realmente excluir o item: ${n.id}?`,message:"",icon:{show:!0,name:"heroicons_outline:exclamation",color:"warn"},actions:{confirm:{show:!0,label:"Confirmar",color:"warn"},cancel:{show:!0,label:"Cancelar"}},dismissible:!1}).afterClosed().subscribe(d=>{"confirmed"===d&&this.resourceService.delete(n.id).subscribe(C=>{P().success("Item exclu\xeddo com sucesso!","",{timeOut:1e4,progressBar:!0,closeButton:!0}),this.carregaInformacoesResource()},C=>{P().error("N\xe3o foi poss\xedvel excluir o perfil",C.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0})})})}paginacao(n){this.pageSize=n.pageSize,this.resourceService.getAll({filtro:"",pagina:n.pageIndex,direcaoOrdenacao:"DESC",tamanho:this.pageSize,ordenarPor:"id"}).subscribe(d=>{this.resources=d.content,this.length=d.totalElements,this.pageSize=d.size})}filtrarResource(n){this.resourceService.getAll({filtro:n,pagina:0,direcaoOrdenacao:"DESC",tamanho:10,ordenarPor:"id"}).subscribe(d=>{this.resources=d.content,this.length=d.totalElements,this.pageSize=d.size})}validaPermissao(n){return this._ruleService.temPermissao(n)}}return l.\u0275fac=function(n){return new(n||l)(p.Y36(p.zs3),p.Y36(g.e))},l.\u0275cmp=p.Xpm({type:l,selectors:[["ng-component"]],decls:0,vars:0,template:function(n,c){},encapsulation:2}),l})()},2688:(Z,h,s)=>{s.d(h,{s:()=>o});class o{}}}]);
//# sourceMappingURL=153.bf183028def5bde1.js.map