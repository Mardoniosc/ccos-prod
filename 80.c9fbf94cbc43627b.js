"use strict";(self.webpackChunkstandart=self.webpackChunkstandart||[]).push([[80],{9080:(ht,f,i)=>{i.r(f),i.d(f,{MY_DATE_FORMATS:()=>U,UsuarioModule:()=>ut});var u=i(4666),c=i(9706),T=i(971),t=i(2560),A=i(8280);let _=(()=>{class e extends A.e{constructor(o){super("/usuarios",o),this.injector=o}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(t.zs3))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=i(4410),g=i(7822),C=i(6060),N=i(6659),I=i(6714),Y=i(2802);function L(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1," C\xf3digo "),t.qZA())}function q(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.id," ")}}function b(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Nome "),t.qZA())}function M(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.nome," ")}}function y(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1," E-mail "),t.qZA())}function w(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",o.email," ")}}function J(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1," data Nascimento "),t.qZA())}function F(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=a.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,o.dataNascimento,"d/MM/Y")," ")}}function S(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1," Status "),t.qZA())}const D=function(e,a){return{"bg-blue-200 text-blue-800 dark:bg-blue-600 dark:text-blue-50":e,"bg-rose-200 text-rose-800 dark:bg-rose-600 dark:text-rose-50":a}};function Q(e,a){if(1&e&&(t.TgZ(0,"mat-cell")(1,"span",17),t._uU(2),t.qZA()()),2&e){const o=a.$implicit;t.xp6(1),t.Q6J("ngClass",t.WLB(2,D,o.status,!o.status)),t.xp6(1),t.hij(" ",o.status?"Ativado":"Desativado"," ")}}function k(e,a){1&e&&(t.TgZ(0,"mat-header-cell"),t._uU(1," A\xe7\xf5es "),t.qZA())}function O(e,a){1&e&&(t.TgZ(0,"span"),t._uU(1,"-"),t.qZA())}const E=function(e){return[e,"editar"]};function R(e,a){if(1&e&&(t.TgZ(0,"span",21),t._UZ(1,"mat-icon",22),t.qZA()),2&e){const o=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(1,E,o.id))}}function z(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"span",23),t.NdJ("click",function(){t.CHM(o);const r=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.excluir(r))}),t._UZ(1,"mat-icon",24),t.qZA()}}function P(e,a){if(1&e&&(t.TgZ(0,"mat-cell"),t.YNc(1,O,2,0,"span",18),t.YNc(2,R,2,3,"span",19),t.YNc(3,z,2,0,"span",20),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!o.validaPermissao("MANTER_USUARIO")),t.xp6(1),t.Q6J("ngIf",o.validaPermissao("MANTER_USUARIO")),t.xp6(1),t.Q6J("ngIf",o.validaPermissao("MANTER_USUARIO"))}}function B(e,a){1&e&&t._UZ(0,"mat-header-row")}function j(e,a){1&e&&t._UZ(0,"mat-row")}const h=function(){return["id","nome","email","dataNascimento","status","acoes"]};function H(e,a){if(1&e&&(t.TgZ(0,"div",1)(1,"mat-table",6),t.ynx(2,7),t.YNc(3,L,2,0,"mat-header-cell",8),t.YNc(4,q,2,1,"mat-cell",9),t.BQk(),t.ynx(5,10),t.YNc(6,b,2,0,"mat-header-cell",8),t.YNc(7,M,2,1,"mat-cell",9),t.BQk(),t.ynx(8,11),t.YNc(9,y,2,0,"mat-header-cell",8),t.YNc(10,w,2,1,"mat-cell",9),t.BQk(),t.ynx(11,12),t.YNc(12,J,2,0,"mat-header-cell",8),t.YNc(13,F,3,4,"mat-cell",9),t.BQk(),t.ynx(14,13),t.YNc(15,S,2,0,"mat-header-cell",8),t.YNc(16,Q,3,5,"mat-cell",9),t.BQk(),t.ynx(17,14),t.YNc(18,k,2,0,"mat-header-cell",8),t.YNc(19,P,4,3,"mat-cell",9),t.BQk(),t.YNc(20,B,1,0,"mat-header-row",15),t.YNc(21,j,1,0,"mat-row",16),t.qZA()()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("dataSource",o.resources),t.xp6(19),t.Q6J("matHeaderRowDef",t.DdM(3,h)),t.xp6(1),t.Q6J("matRowDefColumns",t.DdM(4,h))}}function $(e,a){1&e&&t._UZ(0,"app-not-found-data",25)}function G(e,a){if(1&e){const o=t.EpF();t.TgZ(0,"div",26)(1,"mat-paginator",27),t.NdJ("page",function(r){t.CHM(o);const l=t.oxw();return t.KtG(l.paginacao(r))}),t.qZA()()}if(2&e){const o=t.oxw();t.xp6(1),t.Q6J("length",o.length)("pageSize",o.pageSize)("pageSizeOptions",o.pageSizeOptions)}}let V=(()=>{class e extends T.d{constructor(o,n){super(o,n),this.injector=o,this.usuarioService=n}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.zs3),t.Y36(_))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-usuario-list"]],features:[t.qOj],decls:6,vars:4,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden","bg-card","dark:bg-transparent"],["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","overflow-y-auto"],["page-title","Usu\xe1rios","placeholder-text","Buscar por nome",3,"show-button","pesquisar"],["class","flex flex-col flex-auto min-w-0 overflow-y-auto","cdkScrollable","",4,"ngIf"],["class","h-full","mensagem","Nenhum registro de usu\xe1rios encontrado!",4,"ngIf"],["class","flex flex-0 flex-col",4,"ngIf"],[3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","nome",1,"cursor-pointer"],["matColumnDef","email",1,"cursor-pointer"],["matColumnDef","dataNascimento",1,"cursor-pointer"],["matColumnDef","status",1,"cursor-pointer"],["matColumnDef","acoes"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"font-bold","text-sm","px-2.5","py-0.5","rounded-full",3,"ngClass"],[4,"ngIf"],["class","mr-2 cursor-pointer",3,"routerLink",4,"ngIf"],["class","cursor-pointer",3,"click",4,"ngIf"],[1,"mr-2","cursor-pointer",3,"routerLink"],["svgIcon","heroicons_outline:pencil-alt",1,"text-accent","dark:text-accent-300"],[1,"cursor-pointer",3,"click"],["svgIcon","heroicons_outline:trash",1,"text-warn-600"],["mensagem","Nenhum registro de usu\xe1rios encontrado!",1,"h-full"],[1,"flex","flex-0","flex-col"],["aria-label","Select page",1,"flex","justify-end","border-t",3,"length","pageSize","pageSizeOptions","page"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"app-page-header",2),t.NdJ("pesquisar",function(l){return n.filtrarResource(l)}),t.qZA(),t.YNc(3,H,22,5,"div",3),t.YNc(4,$,1,0,"app-not-found-data",4),t.qZA(),t.YNc(5,G,2,3,"div",5),t.qZA()),2&o&&(t.xp6(2),t.Q6J("show-button",n.validaPermissao("MANTER_USUARIO")),t.xp6(1),t.Q6J("ngIf",n.length>0),t.xp6(1),t.Q6J("ngIf",n.length<=0),t.xp6(1),t.Q6J("ngIf",n.length>0))},dependencies:[u.mk,u.O5,c.rH,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,g.Hw,C.NW,N.PQ,I.J,Y.q,u.uU]}),e})();var s=i(2508),K=i(6721),W=i(2688);class X extends W.s{constructor(a,o,n,r,l,ct,pt,dt,ft,_t,gt){super(),this.id=a,this.nome=o,this.email=n,this.senha=r,this.cpf=l,this.login=ct,this.dataNascimento=pt,this.imagem=dt,this.status=ft,this.perfilId=_t,this.perfil=gt}}var tt=i(6545),et=i.n(tt),ot=i(4372),at=i(4522),p=i(5074),nt=i(1267),it=i(7371),v=i(207),rt=i(4714),d=i(2298),Z=i(698);function st(e,a){if(1&e&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&e){const o=a.$implicit;t.Q6J("value",o.id),t.xp6(1),t.Oqu(o.nome)}}let x=(()=>{class e extends K.e{constructor(o,n,r){super(n,new X,o),this.usuarioService=o,this.injector=n,this.perfilService=r,this.status=0,this.perfils=[]}ngOnInit(){super.ngOnInit(),setTimeout(()=>{this.carregaPerfils()},500)}buildResourceForm(){this.resourceForm=this.formBuilder.group({nome:[null,[s.kI.required,s.kI.minLength(2)]],email:[null,[s.kI.required,s.kI.email]],cpf:[null,[s.kI.required,s.kI.minLength(11)]],login:[null,[s.kI.required]],dataNascimento:[null,[s.kI.required]],status:[null,[s.kI.required]],perfilId:[null,[s.kI.required]],senha:[null,[s.kI.minLength(6)]],senhaConfirmacao:[null,[s.kI.minLength(6),this.matchValidator("senha")]]})}carregaPerfils(){this.perfilService.getAll({filtro:"",pagina:0,direcaoOrdenacao:"DESC",tamanho:100,ordenarPor:"id"}).subscribe(n=>{this.perfils=n.content,this.resourceForm.patchValue({perfilId:this.resource?.perfil?.id})},n=>et().error("N\xe3o foi poss\xedvel carregar os perfils",n.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0}))}createPageTitle(){return"Cadastro de Novo Usu\xe1rio"}editionPageTitle(){return"Editando usu\xe1rio: "+(this.resource.nome||"")}matchValidator(o,n){return r=>{if(r.parent&&n){const l=r.parent?.controls[o];return l&&l.updateValueAndValidity(),null}return r.parent&&r.parent.value&&r.value===r.parent?.controls[o].value?null:{matching:!0}}}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(_),t.Y36(t.zs3),t.Y36(ot.F))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-usuario-form"]],features:[t.qOj],decls:75,vars:9,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"bg-card","rounded-2xl","shadow","overflow-hidden"],[1,"m-4",3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"flex","flex-auto","flex-wrap","my-5"],[1,"flex","flex-col","w-full","sm:pl-8"],[1,"flex"],[1,"w-2/3","pr-2"],["matPrefix",""],["svgIcon","heroicons_outline:user"],["id","nome","matInput","","formControlName","nome"],[1,"w-1/3","pl-2"],["svgIcon","heroicons_outline:user-circle"],["id","cpf-titular","matInput","","mask","000.000.000-00","formControlName","cpf"],[1,"w-1/3","pr-2"],["matInput","","formControlName","dataNascimento",3,"matDatepicker"],["matPrefix","",3,"for"],["data_nascimento",""],[1,"w-1/3","px-2"],["svgIcon","heroicons_outline:lock-closed"],["id","senha","matInput","","type","password","formControlName","senha"],["id","senha-confirmacao","matInput","","type","password","formControlName","senhaConfirmacao"],[1,"w-1/2","pr-2"],["id","login","matInput","","type","text","formControlName","login"],[1,"w-1/2","pl-2"],["svgIcon","heroicons_outline:mail"],["id","email","type","text","matInput","","formControlName","email"],["id","perfilId","formControlName","perfilId"],[3,"value",4,"ngFor","ngForOf"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","pl-2","flex","flex-col","mt-1","ml-5"],["color","primary","formControlName","status",1,"mt-3",3,"ngModel","ngModelChange"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["routerLink","/usuario","routerLinkActive","router-link-active"],["mat-stroked-button","","type","button",1,"fuse-mat-button-rounded","mat-flat-button","mat-button-base"],["mat-flat-button","","type","button",1,"ml-4","fuse-mat-button-rounded","mat-flat-button","mat-button-base","mat-primary",3,"disabled","click"],[3,"value"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",5),t._uU(6),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"mat-form-field",9)(11,"mat-label"),t._uU(12,"Nome"),t.qZA(),t.TgZ(13,"span",10),t._UZ(14,"mat-icon",11),t.qZA(),t._UZ(15,"input",12),t.qZA(),t.TgZ(16,"mat-form-field",13)(17,"mat-label"),t._uU(18,"CPF"),t.qZA(),t.TgZ(19,"span",10),t._UZ(20,"mat-icon",14),t.qZA(),t._UZ(21,"input",15),t.qZA()(),t.TgZ(22,"div",8)(23,"mat-form-field",16)(24,"mat-label"),t._uU(25,"Data Nascimento"),t.qZA(),t._UZ(26,"input",17)(27,"mat-datepicker-toggle",18)(28,"mat-datepicker",null,19),t.qZA(),t.TgZ(30,"mat-form-field",20)(31,"mat-label"),t._uU(32,"Senha"),t.qZA(),t.TgZ(33,"span",10),t._UZ(34,"mat-icon",21),t.qZA(),t._UZ(35,"input",22),t.qZA(),t.TgZ(36,"mat-form-field",16)(37,"mat-label"),t._uU(38,"Confirma\xe7\xe3o de Senha"),t.qZA(),t.TgZ(39,"span",10),t._UZ(40,"mat-icon",21),t.qZA(),t._UZ(41,"input",23),t.qZA()(),t.TgZ(42,"div",8)(43,"mat-form-field",24)(44,"mat-label"),t._uU(45,"Login"),t.qZA(),t.TgZ(46,"span",10),t._UZ(47,"mat-icon",11),t.qZA(),t._UZ(48,"input",25),t.qZA(),t.TgZ(49,"mat-form-field",26)(50,"mat-label"),t._uU(51,"E-mail"),t.qZA(),t.TgZ(52,"span",10),t._UZ(53,"mat-icon",27),t.qZA(),t._UZ(54,"input",28),t.qZA()(),t.TgZ(55,"div",8)(56,"mat-form-field",9)(57,"mat-label"),t._uU(58,"Perfil"),t.qZA(),t.TgZ(59,"mat-select",29),t.YNc(60,st,2,2,"mat-option",30),t.qZA(),t._UZ(61,"mat-icon",31),t.qZA(),t.TgZ(62,"div",13)(63,"div",32)(64,"mat-label"),t._uU(65,"Status"),t.qZA(),t.TgZ(66,"mat-slide-toggle",33),t.NdJ("ngModelChange",function(l){return n.status=l}),t._uU(67),t.qZA()()()()()(),t._UZ(68,"div",34),t.TgZ(69,"div",35)(70,"a",36)(71,"button",37),t._uU(72," Cancelar "),t.qZA()(),t.TgZ(73,"button",38),t.NdJ("click",function(){return n.submitForm()}),t._uU(74," Salvar "),t.qZA()()()()()()),2&o){const r=t.MAs(29);t.xp6(3),t.Q6J("formGroup",n.resourceForm),t.xp6(3),t.Oqu(n.pageTitle),t.xp6(20),t.Q6J("matDatepicker",r),t.xp6(1),t.Q6J("for",r),t.xp6(33),t.Q6J("ngForOf",n.perfils),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:document-text"),t.xp6(5),t.Q6J("ngModel",n.status),t.xp6(1),t.hij(" ",n.status?"Ativado":"Desativado"," "),t.xp6(6),t.Q6J("disabled",n.resourceForm.invalid)}},dependencies:[u.sg,c.yS,c.Od,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,at.lW,g.Hw,p.KE,p.hX,p.qo,nt.Nt,it.gD,v.ey,rt.Rr,d.Mq,d.hl,d.nW,Z.hx]}),e})();var lt=i(4466);const mt=[{path:"",component:V},{path:"novo",component:x},{path:":id/editar",component:x}],U={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let ut=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[{provide:v.sG,useValue:U}],imports:[u.ez,c.Bz.forChild(mt),lt.m,Z.yI.forRoot()]}),e})()}}]);
//# sourceMappingURL=80.c9fbf94cbc43627b.js.map