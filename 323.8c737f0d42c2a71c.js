"use strict";(self.webpackChunkstandart=self.webpackChunkstandart||[]).push([[323],{3323:(Z,v,r)=>{r.r(v),r.d(v,{PerfilModule:()=>k});var t=r(4666),h=r(9706),d=r(971),e=r(2560),u=r(4372),m=r(4410),_=r(7822),x=r(6060),g=r(6659),P=r(6714),l=r(2802);function s(o,c){1&o&&(e.TgZ(0,"mat-header-cell"),e._uU(1," C\xf3digo "),e.qZA())}function a(o,c){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const n=c.$implicit;e.xp6(1),e.hij(" ",n.id," ")}}function i(o,c){1&o&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Nome "),e.qZA())}function p(o,c){if(1&o&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&o){const n=c.$implicit;e.xp6(1),e.hij(" ",n.nome," ")}}function C(o,c){1&o&&(e.TgZ(0,"mat-header-cell"),e._uU(1," A\xe7\xf5es "),e.qZA())}function I(o,c){1&o&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}const L=function(o){return[o,"editar"]};function R(o,c){if(1&o&&(e.TgZ(0,"span",17),e._UZ(1,"mat-icon",18),e.qZA()),2&o){const n=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,L,n.id))}}function N(o,c){if(1&o){const n=e.EpF();e.TgZ(0,"span",19),e.NdJ("click",function(){e.CHM(n);const A=e.oxw().$implicit,E=e.oxw(2);return e.KtG(E.excluir(A))}),e._UZ(1,"mat-icon",20),e.qZA()}}function D(o,c){if(1&o&&(e.TgZ(0,"mat-cell"),e.YNc(1,I,2,0,"span",14),e.YNc(2,R,2,3,"span",15),e.YNc(3,N,2,0,"span",16),e.qZA()),2&o){const n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!n.validaPermissao("MANTER_PERFIL")),e.xp6(1),e.Q6J("ngIf",n.validaPermissao("MANTER_PERFIL")),e.xp6(1),e.Q6J("ngIf",n.validaPermissao("MANTER_PERFIL"))}}function B(o,c){1&o&&e._UZ(0,"mat-header-row")}function F(o,c){1&o&&e._UZ(0,"mat-row")}const O=function(){return["id","nome","acoes"]};function w(o,c){if(1&o&&(e.TgZ(0,"div",1)(1,"mat-table",6),e.ynx(2,7),e.YNc(3,s,2,0,"mat-header-cell",8),e.YNc(4,a,2,1,"mat-cell",9),e.BQk(),e.ynx(5,10),e.YNc(6,i,2,0,"mat-header-cell",8),e.YNc(7,p,2,1,"mat-cell",9),e.BQk(),e.ynx(8,11),e.YNc(9,C,2,0,"mat-header-cell",8),e.YNc(10,D,4,3,"mat-cell",9),e.BQk(),e.YNc(11,B,1,0,"mat-header-row",12),e.YNc(12,F,1,0,"mat-row",13),e.qZA()()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("dataSource",n.resources),e.xp6(10),e.Q6J("matHeaderRowDef",e.DdM(3,O)),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(4,O))}}function y(o,c){1&o&&e._UZ(0,"app-not-found-data",21)}function z(o,c){if(1&o){const n=e.EpF();e.TgZ(0,"div",22)(1,"mat-paginator",23),e.NdJ("page",function(A){e.CHM(n);const E=e.oxw();return e.KtG(E.paginacao(A))}),e.qZA()()}if(2&o){const n=e.oxw();e.xp6(1),e.Q6J("length",n.length)("pageSize",n.pageSize)("pageSizeOptions",n.pageSizeOptions)}}let J=(()=>{class o extends d.d{constructor(n,f){super(n,f),this.injector=n,this.perfilService=f}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(e.zs3),e.Y36(u.F))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-perfil-list"]],features:[e.qOj],decls:6,vars:4,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden","bg-card","dark:bg-transparent"],["cdkScrollable","",1,"flex","flex-col","flex-auto","min-w-0","overflow-y-auto"],["page-title","Perfils","placeholder-text","Buscar por nome",3,"show-button","pesquisar"],["class","flex flex-col flex-auto min-w-0 overflow-y-auto","cdkScrollable","",4,"ngIf"],["class","h-full","mensagem","Nenhum registro de perfils encontrado!",4,"ngIf"],["class","flex flex-0 flex-col",4,"ngIf"],[3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","nome",1,"cursor-pointer"],["matColumnDef","acoes"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["class","mr-2 cursor-pointer",3,"routerLink",4,"ngIf"],["class","cursor-pointer",3,"click",4,"ngIf"],[1,"mr-2","cursor-pointer",3,"routerLink"],["svgIcon","heroicons_outline:pencil-alt",1,"text-accent","dark:text-accent-300"],[1,"cursor-pointer",3,"click"],["svgIcon","heroicons_outline:trash",1,"text-warn-600"],["mensagem","Nenhum registro de perfils encontrado!",1,"h-full"],[1,"flex","flex-0","flex-col"],["aria-label","Select page",1,"flex","justify-end","border-t",3,"length","pageSize","pageSizeOptions","page"]],template:function(n,f){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"app-page-header",2),e.NdJ("pesquisar",function(E){return f.filtrarResource(E)}),e.qZA(),e.YNc(3,w,13,5,"div",3),e.YNc(4,y,1,0,"app-not-found-data",4),e.qZA(),e.YNc(5,z,2,3,"div",5),e.qZA()),2&n&&(e.xp6(2),e.Q6J("show-button",f.validaPermissao("MANTER_PERFIL")),e.xp6(1),e.Q6J("ngIf",f.length>0),e.xp6(1),e.Q6J("ngIf",f.length<=0),e.xp6(1),e.Q6J("ngIf",f.length>0))},dependencies:[t.O5,h.rH,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,_.Hw,x.NW,g.PQ,P.J,l.q]}),o})();var T=r(2508),M=r(2688);class U extends M.s{constructor(c,n){super(),this.id=c,this.nome=n}}var Q=r(6779),Y=r(4522),b=r(5074),j=r(1267),H=r(5117);let S=(()=>{class o extends Q.e{constructor(n,f){super(f,new U,n),this.perfilService=n,this.injector=f}buildResourceForm(){this.resourceForm=this.formBuilder.group({nome:[null,[T.kI.required,T.kI.minLength(2)]]})}createPageTitle(){return"Cadastro de Novo Perfil"}editionPageTitle(){return"Editando perfil: "+(this.resource.nome||"")}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(u.F),e.Y36(e.zs3))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-perfil-form"]],features:[e.qOj],decls:22,vars:6,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","p-6","sm:p-10"],[1,"bg-card","rounded-2xl","shadow","overflow-hidden"],[1,"m-4",3,"formGroup"],[1,"w-full"],[1,"text-xl"],[1,"grid","sm:grid-cols-4","gap-6","w-full","mt-8"],[1,"sm:col-span-4"],[1,"fuse-mat-no-subscript","w-full"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["id","nome_id","matInput","","placeholder","informa o nome da perfil",3,"formControlName"],[3,"form-control"],[1,"mt-11","mb-10","border-t"],[1,"flex","items-center","justify-end"],["routerLink","/perfil","routerLinkActive","router-link-active"],["mat-stroked-button","","type","button",1,"fuse-mat-button-rounded","mat-flat-button","mat-button-base"],["mat-flat-button","","type","button",1,"ml-4","fuse-mat-button-rounded","mat-flat-button","mat-button-base","mat-primary",3,"disabled","click"]],template:function(n,f){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",5),e._uU(6),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),e._uU(11,"Nome Perfil"),e.qZA(),e._UZ(12,"mat-icon",9)(13,"input",10),e.qZA(),e._UZ(14,"app-form-field-error",11),e.qZA()(),e._UZ(15,"div",12),e.TgZ(16,"div",13)(17,"a",14)(18,"button",15),e._uU(19," Cancelar "),e.qZA()(),e.TgZ(20,"button",16),e.NdJ("click",function(){return f.submitForm()}),e._uU(21," Salvar "),e.qZA()()()()()()),2&n&&(e.xp6(3),e.Q6J("formGroup",f.resourceForm),e.xp6(3),e.Oqu(f.pageTitle),e.xp6(6),e.Q6J("svgIcon","heroicons_outline:view-grid"),e.xp6(1),e.Q6J("formControlName","nome"),e.xp6(1),e.Q6J("form-control",f.resourceForm.get("nome")),e.xp6(6),e.Q6J("disabled",f.resourceForm.invalid))},dependencies:[h.yS,h.Od,T._Y,T.Fj,T.JJ,T.JL,T.sg,T.u,Y.lW,_.Hw,b.KE,b.hX,b.qo,j.Nt,H.p]}),o})();var K=r(4466);const W=[{path:"",component:J},{path:"novo",component:S},{path:":id/editar",component:S}];let k=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[t.ez,h.Bz.forChild(W),K.m]}),o})()},6714:(Z,v,r)=>{r.d(v,{J:()=>h});var t=r(2560);let h=(()=>{class d{}return d.\u0275fac=function(u){return new(u||d)},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-not-found-data"]],inputs:{mensagem:"mensagem"},decls:4,vars:1,consts:[[1,"flex","flex-col","w-full","h-full","items-center","justify-center","border-t-2","border-gray-200"],["src","assets/icons/searching.svg","alt","",1,"w-64","h-64"],[1,"mt-2","text-lg","md:text-2xl","font-medium","tracking-tight","text-center","text-secondary"]],template:function(u,m){1&u&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.TgZ(2,"p",2),t._uU(3),t.qZA()()),2&u&&(t.xp6(3),t.Oqu(m.mensagem))}}),d})()},2802:(Z,v,r)=>{r.d(v,{q:()=>l});var t=r(2560),h=r(4666),d=r(9706),e=r(7822),u=r(5074),m=r(1267),_=r(4522);function x(s,a){if(1&s){const i=t.EpF();t.TgZ(0,"mat-form-field",5),t._UZ(1,"mat-icon",6),t.TgZ(2,"input",7,8),t.NdJ("keyup",function(){t.CHM(i);const C=t.MAs(3),I=t.oxw();return t.KtG(I.filtrar(C.value))}),t.qZA()()}if(2&s){const i=t.oxw();t.xp6(1),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("autocomplete","off")("placeholder",i.placeholder)}}const g=function(){return["novo"]};function P(s,a){1&s&&(t.TgZ(0,"a",9)(1,"span",10),t._UZ(2,"mat-icon",11),t._uU(3," Cadastrar "),t.qZA()()),2&s&&(t.Q6J("routerLink",t.DdM(2,g)),t.xp6(2),t.Q6J("svgIcon","heroicons_outline:plus"))}let l=(()=>{class s{constructor(){this.pageTitle="",this.showButton=!0,this.showSearch=!0,this.placeholder="",this.pesquisar=new t.vpe}ngOnInit(){}filtrar(i){this.pesquisar.emit(i)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-page-header"]],inputs:{pageTitle:["page-title","pageTitle"],showButton:["show-button","showButton"],showSearch:["show-search","showSearch"],placeholder:["placeholder-text","placeholder"]},outputs:{pesquisar:"pesquisar"},decls:6,vars:3,consts:[[1,"relative","flex","flex-col","flx-col-0","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-8","px-6","md:px-8","border-b"],[1,"text-4xl","font-extrabold","tracking-tight"],[1,"flex","flex-col","sm:flex-row","items-start","shrink-0","sm:items-center","mt-6","sm:mt-0","sm:ml-4"],["class","fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded min-w-64",4,"ngIf"],["routerLinkActive","router-link-active","class","mat-focus-indicator mt-2 fuse-mat-button-rounded mat-flat-button mat-button-base mat-accent m-1 text-1xl","mat-flat-button","",3,"routerLink",4,"ngIf"],[1,"fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","","id","searchPerfil",3,"autocomplete","placeholder","keyup"],["temoPesquisa",""],["routerLinkActive","router-link-active","mat-flat-button","",1,"mat-focus-indicator","mt-2","fuse-mat-button-rounded","mat-flat-button","mat-button-base","mat-accent","m-1","text-1xl",3,"routerLink"],[1,"p-3","flex","flex-row","items-center"],[1,"icon-size-5",3,"svgIcon"]],template:function(i,p){1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,x,4,3,"mat-form-field",3),t.YNc(5,P,4,3,"a",4),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(p.pageTitle),t.xp6(2),t.Q6J("ngIf",p.showSearch),t.xp6(1),t.Q6J("ngIf",p.showButton))},dependencies:[h.O5,d.yS,d.Od,e.Hw,u.KE,u.qo,m.Nt,_.zs]}),s})()},6779:(Z,v,r)=>{r.d(v,{e:()=>x});var t=r(2560),h=r(2508),d=r(9706),e=r(6545),u=r.n(e),m=(()=>((m||(m={})).CARREGAMENTO_DADOS_API="carregamento-dados-api",m))(),_=r(8280);let x=(()=>{class g{constructor(l,s,a){this.injecto=l,this.resource=s,this.resourceService=a,this.carregamentoDeDados=new t.vpe,this.route=this.injecto.get(d.gz),this.router=this.injecto.get(d.F0),this.formBuilder=this.injecto.get(h.qu)}ngOnInit(){this.setCurrentAction(),this.buildResourceForm(),this.loadResource()}ngAfterContentChecked(){this.setPageTitle()}submitForm(){if(this.resourceForm.invalid)return;const l=this.resourceForm.value;"novo"!==this.currentAction?(l.id=this.resource.id,this.resourceService.update(l).subscribe(()=>{u().success("Dado atualizado com sucesso!","Sucesso",{timeOut:1e4,progressBar:!0,closeButton:!0}),this.router.navigate([this.route.snapshot.parent.url[0].path])},s=>{u().error("N\xe3o foi poss\xedvel atualizar o dado",s.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0})})):this.resourceService.insert(l).subscribe(()=>{u().success("Dado cadastrado com sucesso!","Sucesso",{timeOut:1e4,progressBar:!0,closeButton:!0}),this.router.navigate([this.route.snapshot.parent.url[0].path])},s=>{u().error("N\xe3o foi poss\xedvel carregar os dados",s.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0})})}setCurrentAction(){this.currentAction="novo"===this.route.snapshot.url[this.route.snapshot.url.length-1]?.path?"novo":"editar"}loadResource(){if("editar"===this.currentAction){const l=Number(this.route.snapshot.url[this.route.snapshot.url.length-2]?.path);this.resourceService.getById(l).subscribe(s=>{this.resource=s,this.resourceForm.patchValue(this.resource),this.carregamentoDeDados.emit(m.CARREGAMENTO_DADOS_API)},s=>{u().error("N\xe3o foi poss\xedvel carregar os dados",s.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0})})}}setPageTitle(){this.pageTitle="novo"===this.currentAction?this.createPageTitle():this.editionPageTitle()}createPageTitle(){return"Novo"}editionPageTitle(){return"Edi\xe7\xe3o"}}return g.\u0275fac=function(l){return new(l||g)(t.Y36(t.zs3),t.Y36("resource"),t.Y36(_.e))},g.\u0275cmp=t.Xpm({type:g,selectors:[["ng-component"]],decls:0,vars:0,template:function(l,s){},encapsulation:2}),g})()},971:(Z,v,r)=>{r.d(v,{d:()=>P});var t=r(6060),h=r(1683),d=r(705),e=r(7134),u=r(2560);let m=(()=>{class l{constructor(){}temPermissao(a){const i=localStorage.getItem(e.O.TOKEN);if(!i)return!1;const{ROLES:p}=d.l.decodeToken(i);return!!Object(p).find(C=>C==a)}}return l.\u0275fac=function(a){return new(a||l)},l.\u0275prov=u.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var _=r(6545),x=r.n(_),g=r(8280);let P=(()=>{class l{constructor(a,i){this.injecto=a,this.resourceService=i,this.resources=[],this.length=0,this.pageSize=10,this.pageSizeOptions=[5,10,25,100],this._fuseConfirmationService=this.injecto.get(h.R),this._matPaginatorIntl=this.injecto.get(t.ye),this._ruleService=this.injecto.get(m)}ngOnInit(){this.carregaInformacoesResource(),this._matPaginatorIntl.itemsPerPageLabel="Itens por p\xe1gina"}setPageSizeOptions(a){a&&(this.pageSizeOptions=a.split(",").map(i=>+i))}carregaInformacoesResource(){this.resourceService.getAll({filtro:"",pagina:0,direcaoOrdenacao:"DESC",tamanho:10,ordenarPor:"id"}).subscribe(i=>{this.resources=i.content,this.length=i.totalElements,this.pageSize=i.size})}excluir(a){this._fuseConfirmationService.open({title:`Deseja realmente excluir o item: ${a.id}?`,message:"",icon:{show:!0,name:"heroicons_outline:exclamation",color:"warn"},actions:{confirm:{show:!0,label:"Confirmar",color:"warn"},cancel:{show:!0,label:"Cancelar"}},dismissible:!1}).afterClosed().subscribe(p=>{"confirmed"===p&&this.resourceService.delete(a.id).subscribe(C=>{x().success("Item exclu\xeddo com sucesso!","",{timeOut:1e4,progressBar:!0,closeButton:!0}),this.carregaInformacoesResource()},C=>{x().error("N\xe3o foi poss\xedvel excluir o perfil",C.error.error,{timeOut:1e4,progressBar:!0,closeButton:!0})})})}paginacao(a){this.pageSize=a.pageSize,this.resourceService.getAll({filtro:"",pagina:a.pageIndex,direcaoOrdenacao:"DESC",tamanho:this.pageSize,ordenarPor:"id"}).subscribe(p=>{this.resources=p.content,this.length=p.totalElements,this.pageSize=p.size})}filtrarResource(a){this.resourceService.getAll({filtro:a,pagina:0,direcaoOrdenacao:"DESC",tamanho:10,ordenarPor:"id"}).subscribe(p=>{this.resources=p.content,this.length=p.totalElements,this.pageSize=p.size})}validaPermissao(a){return this._ruleService.temPermissao(a)}}return l.\u0275fac=function(a){return new(a||l)(u.Y36(u.zs3),u.Y36(g.e))},l.\u0275cmp=u.Xpm({type:l,selectors:[["ng-component"]],decls:0,vars:0,template:function(a,i){},encapsulation:2}),l})()},2688:(Z,v,r)=>{r.d(v,{s:()=>t});class t{}}}]);
//# sourceMappingURL=323.8c737f0d42c2a71c.js.map